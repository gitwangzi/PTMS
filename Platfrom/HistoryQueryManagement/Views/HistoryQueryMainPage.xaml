<UserControl xmlns:toolkit="http://schemas.microsoft.com/winfx/2006/xaml/presentation/toolkit"  
             xmlns:sdk="http://schemas.microsoft.com/winfx/2006/xaml/presentation/sdk"  
             x:Class="HistoryQueryManagement.Views.HistoryQueryMainPage"
            xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
            xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:Converts="clr-namespace:Gsafety.Common.Converts;assembly=Converts"
            xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
             xmlns:ia="http://schemas.microsoft.com/expression/2010/interactions"
            mc:Ignorable="d"
            d:DesignHeight="700" d:DesignWidth="900"  Loaded="UserControl_Loaded">

    <UserControl.Resources>
        <Converts:BusinessAlertTypeConverter x:Key="BusinessAlertTypeConverter"/>
        <Converts:VehicleOnLineConverter x:Key="VehicleOnLineConverter"/>
        <Converts:GPSLatChangeDisplayConvert x:Key="LatConvert"/>
        <Converts:GPSLonChangeDisplayConvert x:Key="LonConvert"/>
        <Converts:SpeedAndDirConverter x:Key="SpeedAndDir"/>
        <Converts:MarkConvert x:Key="MarkConvert"/>
        <Converts:TrueOrFalse x:Key="TrueOrFalse"/>
        <Converts:ApealDisoseConverter x:Key="ApealDisposeConverter"></Converts:ApealDisoseConverter>
        <Converts:AlarmSourceToImageConverter x:Key="AlarmSourceToImageConverter"></Converts:AlarmSourceToImageConverter>
        <Converts:TimeConvert x:Key="TimeConverter"/>
        <Converts:DateTimeConverter x:Key="DateTimeConverter"/>
        <Converts:DeviceTypeConverter x:Key="DeviceTypeConverter"/>
        <Converts:AlarmSourceToVisibilityConverter x:Key="AlarmSourceToVisibilityConverter"></Converts:AlarmSourceToVisibilityConverter>

        <Converts:FunItemVisibilityConverter x:Key="FunItemVisibilityConverter"/>

        <Storyboard x:Key="collapseTransition">
            <DoubleAnimationUsingKeyFrames BeginTime="00:00:00" 
                                           Storyboard.TargetName="SythesesLeftContent"
                                           Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)">
                <EasingDoubleKeyFrame KeyTime="00:00:00" Value="0"/>
                <EasingDoubleKeyFrame KeyTime="00:00:00.1000000" Value="-250"/>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>
        <Storyboard x:Key="expandTransition">
            <DoubleAnimationUsingKeyFrames BeginTime="00:00:00" 
                                           Storyboard.TargetName="SythesesLeftContent"
                                           Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)">
                <EasingDoubleKeyFrame KeyTime="00:00:00" Value="-250"/>
                <EasingDoubleKeyFrame KeyTime="00:00:00.1000000" Value="0"/>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>

        <Storyboard x:Key="ListCollapseTransition">
            <DoubleAnimationUsingKeyFrames BeginTime="00:00:00" 
                                           Storyboard.TargetName="InfoArea"
                                           Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)">
                <EasingDoubleKeyFrame KeyTime="00:00:00" Value="0"/>
                <EasingDoubleKeyFrame KeyTime="00:00:00.1000000" Value="250"/>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>
        <Storyboard x:Key="ListExpandTransition">
            <DoubleAnimationUsingKeyFrames BeginTime="00:00:00" 
                                           Storyboard.TargetName="InfoArea"
                                           Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)">
                <EasingDoubleKeyFrame KeyTime="00:00:00" Value="250"/>
                <EasingDoubleKeyFrame KeyTime="00:00:00.1000000" Value="0"/>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>
    </UserControl.Resources>

    <Grid x:Name="LayoutRoot"
          Style="{StaticResource ContentGridStyle}"
          MouseMove="LayoutRoot_MouseMove_1">

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="360" MaxWidth="550"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="300" MaxWidth="500"></ColumnDefinition>
        </Grid.ColumnDefinitions >

        <Grid x:Name="collapsedPane" 
              Grid.Column="0" 
              Grid.Row="0" 
              Canvas.ZIndex="100" 
              Margin="-5,0,0,0" 
              HorizontalAlignment="Left" 
              VerticalAlignment="Center" 
              Visibility="Collapsed">
            <Image x:Name="showL"  
                   Source="/ExternalResource;component/Images/slideShow.png"
                   Cursor="Hand" 
                   Stretch="None" 
                   Opacity="0.9" 
                   ToolTipService.ToolTip="{Binding [MenuVisibleToolTip], Source={StaticResource SR}}"
                   Margin="0,0,0,0" 
                   MouseLeftButtonDown="showL_MouseLeftButtonDown"/>
        </Grid>

        <Grid x:Name="SythesesLeftContent" Grid.Column="0" >
            <Grid.RowDefinitions>
                <RowDefinition Height="35"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Grid.RenderTransform>
                <TranslateTransform/>
            </Grid.RenderTransform>

            <Grid.Resources>

                <Style TargetType="sdk:DataGridCell">
                    <Setter Property="Background" Value="Transparent" />
                    <Setter Property="HorizontalContentAlignment" Value="Center" />
                    <Setter Property="VerticalContentAlignment" Value="Center" />
                    <Setter Property="IsTabStop" Value="False" />
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="sdk:DataGridCell">
                                <Grid Name="Root" Background="{TemplateBinding Background}">
                                    <VisualStateManager.VisualStateGroups>
                                        <VisualStateGroup x:Name="CurrentStates">
                                            <VisualState x:Name="Regular" />
                                            <VisualState x:Name="Current">
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetName="FocusVisual" Storyboard.TargetProperty="Opacity" To="1" Duration="0" />
                                                    <!--更改选中行颜色时修改-->
                                                    <ColorAnimation Storyboard.TargetName="FocusVisual"
                                                        Storyboard.TargetProperty="(Shape.Fill).(SolidColorBrush.Color)"
                                                        To="#0099cb" Duration="0"/>

                                                    <!--单元格的边框-->
                                                    <!--更改选中行颜色时修改-->
                                                    <ColorAnimation Storyboard.TargetName="FocusVisual"
                                                        Storyboard.TargetProperty="(Shape.Stroke).(SolidColorBrush.Color)"
                                                        To="#0099cb" Duration="0"/>
                                                </Storyboard>
                                            </VisualState>
                                        </VisualStateGroup>
                                        <VisualStateGroup x:Name="ValidationStates">
                                            <VisualState x:Name="Valid"/>
                                            <VisualState x:Name="Invalid">
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetName="InvalidVisualElement" Storyboard.TargetProperty="Opacity" Duration="0" To="1"/>
                                                    <ColorAnimation Storyboard.TargetName="FocusVisual" Storyboard.TargetProperty="(Fill).Color" Duration="0" To="#FF1E2226"/>
                                                </Storyboard>
                                            </VisualState>
                                        </VisualStateGroup>
                                    </VisualStateManager.VisualStateGroups>

                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>

                                    <Rectangle Name="FocusVisual" Stroke="#FF6DBDD1" StrokeThickness="1" Fill="#661E2226" HorizontalAlignment="Stretch" 
                               VerticalAlignment="Stretch" IsHitTestVisible="false" Opacity="0" />

                                    <ContentPresenter
                                    Content="{TemplateBinding Content}"
                                    ContentTemplate="{TemplateBinding ContentTemplate}"
                                    HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                    VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                    Margin="{TemplateBinding Padding}" />

                                    <Rectangle x:Name="InvalidVisualElement" IsHitTestVisible="False" StrokeThickness="1" Stroke="#FFDC000C" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Opacity="0"/>

                                    <Rectangle Name="RightGridLine" Grid.Column="1" VerticalAlignment="Stretch" Width="1" />
                                </Grid>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>

                <Style TargetType="sdk:DataGridRow">

                    <Setter Property="IsTabStop" Value="False" />
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="sdk:DataGridRow">
                                <sdk:DataGridFrozenGrid Name="Root">
                                    <VisualStateManager.VisualStateGroups>
                                        <VisualStateGroup x:Name="CommonStates">
                                            <VisualState x:Name="Normal">
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetName="BackgroundRectangle" Storyboard.TargetProperty="Opacity" Duration="0" To="0"/>
                                                </Storyboard>
                                            </VisualState>

                                            <VisualState x:Name="NormalAlternatingRow">
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetName="BackgroundRectangle" 
                                                         Storyboard.TargetProperty="Opacity" Duration="0" To="0"/>
                                                </Storyboard>
                                            </VisualState>
                                            <!--设置鼠标滑过每行时显示的颜色-->
                                            <VisualState x:Name="MouseOver">
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetName="BackgroundRectangle" 
                                                         Storyboard.TargetProperty="Opacity" Duration="0" To=".5"/>

                                                    <ColorAnimation Duration="0" Storyboard.TargetName="BackgroundRectangle" 
                                                        Storyboard.TargetProperty="(Fill).Color" To="#323842"/>
                                                </Storyboard>
                                            </VisualState>

                                            <!--选中行颜色时修改-->
                                            <VisualState x:Name="NormalSelected">
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetName="BackgroundRectangle" 
                                                         Storyboard.TargetProperty="Opacity" Duration="0" To="1"/>
                                                    <ColorAnimation Duration="0" Storyboard.TargetName="BackgroundRectangle" 
                                                        Storyboard.TargetProperty="(Fill).Color" To="#0099cb"/>
                                                </Storyboard>
                                            </VisualState>


                                            <VisualState x:Name="MouseOverSelected">
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetName="BackgroundRectangle" 
                                                         Storyboard.TargetProperty="Opacity" Duration="0" To="1"/>
                                                </Storyboard>
                                            </VisualState>
                                            <!--选中行颜色时修改-->
                                            <VisualState x:Name="UnfocusedSelected">
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetName="BackgroundRectangle" 
                                                         Storyboard.TargetProperty="Opacity" Duration="0" To="1"/>

                                                    <ColorAnimation Duration="0" Storyboard.TargetName="BackgroundRectangle" 
                                                        Storyboard.TargetProperty="(Fill).Color" To="#0099cb"/>
                                                </Storyboard>
                                            </VisualState>
                                        </VisualStateGroup>
                                        <VisualStateGroup x:Name="ValidationStates">
                                            <VisualState x:Name="Valid"/>
                                            <VisualState x:Name="Invalid">
                                                <Storyboard>
                                                    <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="BackgroundRectangle" Storyboard.TargetProperty="Visibility">
                                                        <DiscreteObjectKeyFrame KeyTime="0" Value="Collapsed"/>
                                                    </ObjectAnimationUsingKeyFrames>
                                                    <DoubleAnimation Storyboard.TargetName="InvalidVisualElement" Storyboard.TargetProperty="Opacity" Duration="0" To="1"/>
                                                </Storyboard>
                                            </VisualState>
                                        </VisualStateGroup>
                                    </VisualStateManager.VisualStateGroups>
                                    <Grid.RowDefinitions>
                                        <RowDefinition/>
                                        <!--<RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>-->
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>

                                    <Grid.Resources>
                                        <Storyboard x:Key="DetailsVisibleTransition">
                                            <DoubleAnimation Storyboard.TargetName="DetailsPresenter" Storyboard.TargetProperty="ContentHeight" Duration="00:00:0.1" />
                                        </Storyboard>
                                    </Grid.Resources>

                                    <!--<Rectangle x:Name="BackgroundRectangle" Grid.RowSpan="2" Grid.ColumnSpan="2" Opacity="0" Fill="#1bafff"/>
                        <Rectangle x:Name="InvalidVisualElement" Grid.RowSpan="2" Grid.ColumnSpan="2" Opacity="0" Fill="#1bafff"/>-->
                                    <!--选中行颜色时修改-->
                                    <Rectangle x:Name="BackgroundRectangle" Grid.RowSpan="2" Grid.ColumnSpan="2" Opacity="0" Fill="#0099cb"/>
                                    <!--选中行颜色时修改-->
                                    <Rectangle x:Name="InvalidVisualElement" Grid.RowSpan="2" Grid.ColumnSpan="2" Opacity="0" Fill="#0099cb"/>
                                    <sdk:DataGridRowHeader Grid.RowSpan="3" Name="RowHeader" sdk:DataGridFrozenGrid.IsFrozen="True" />
                                    <sdk:DataGridCellsPresenter Grid.Column="1" Name="CellsPresenter" sdk:DataGridFrozenGrid.IsFrozen="True" />
                                    <sdk:DataGridDetailsPresenter Grid.Row="1" Grid.Column="1" Name="DetailsPresenter" />
                                    <Rectangle Grid.Row="2" Grid.Column="1" Name="BottomGridLine" HorizontalAlignment="Stretch" Height="1" />
                                </sdk:DataGridFrozenGrid>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>

                </Style>


                <Style TargetType="sdk:DataGridColumnHeader" x:Key="CustomColumnHeader">
                    <Setter Property="HorizontalAlignment" Value="Stretch"/>
                    <Setter Property="VerticalAlignment" Value="Center"/>
                    <Setter Property="BorderThickness" Value="0"></Setter>
                    <Setter Property="VerticalContentAlignment" Value="Stretch"/>
                    <Setter Property="Height" Value="28"/>
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="sdk:DataGridColumnHeader">
                                <Border BorderBrush="#2c3136"
                            BorderThickness="0"
                            x:Name="ColumnHeaderBorder">
                                    <Border.Background>
                                        <LinearGradientBrush StartPoint="0,0.5" EndPoint="0,1.0">
                                            <!--<GradientStop Color="#353a44" Offset="0.5"/>
                                <GradientStop Color="#22252c" Offset="1.0"/>-->
                                            <GradientStop Color="#2c3136" Offset="0.5"/>
                                            <GradientStop Color="#2c3136" Offset="1.0"/>
                                        </LinearGradientBrush>
                                    </Border.Background>

                                    <StackPanel Background="{TemplateBinding Background}"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center">
                                        <ContentPresenter>
                                            <ContentPresenter.Content>
                                                <TextBlock Text="{TemplateBinding Content}"
                                                Foreground="#e3dfdf"
                                                HorizontalAlignment="Stretch"
                                                VerticalAlignment="Stretch"
                                                FontSize="12"
                                               FontWeight="Bold"/>
                                            </ContentPresenter.Content>
                                        </ContentPresenter>
                                    </StackPanel>
                                </Border>

                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>

                </Style>


                <Style x:Key="DataGridStyleRxx3" TargetType="sdk:DataGrid">
                    <Setter Property="HorizontalGridLinesBrush" Value="#4A5159"/>
                    <Setter Property="VerticalGridLinesBrush" Value="#4A5159"/>
                    <Setter Property="HorizontalScrollBarVisibility" Value="Hidden"/>
                    <Setter Property="VerticalScrollBarVisibility" Value="Auto"/>
                    <Setter Property="HorizontalAlignment" Value="Stretch"/>
                    <Setter Property ="VerticalAlignment" Value="Stretch"/>
                    <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                    <Setter Property="VerticalContentAlignment" Value="Stretch"/>
                    <Setter Property="Background" Value="#242930"/>
                    <Setter Property="AutoGenerateColumns" Value="False"/>
                    <Setter Property="IsReadOnly" Value="True"/>
                    <Setter Property="GridLinesVisibility" Value="All"/>
                    <Setter Property="RowBackground" Value="#242930"/>
                    <Setter Property="BorderThickness" Value="0"/>
                    <Setter Property="AlternatingRowBackground" Value="#242930"/>
                    <Setter Property="HeadersVisibility" Value="Column"/>
                    <Setter Property="SelectionMode" Value="Extended"/>
                    <Setter Property="CanUserReorderColumns" Value="True"/>
                    <Setter Property="CanUserResizeColumns" Value="True"/>
                    <Setter Property="CanUserSortColumns" Value="True"/>
                    <Setter Property="RowDetailsVisibilityMode" Value="VisibleWhenSelected"/>
                    <Setter Property="BorderBrush">
                        <Setter.Value>
                            <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                <GradientStop Color="#242930" Offset="0"/>
                                <GradientStop Color="#242930" Offset="0.375"/>
                                <GradientStop Color="#242930" Offset="0.375"/>
                                <GradientStop Color="#242930" Offset="1"/>
                            </LinearGradientBrush>
                        </Setter.Value>
                    </Setter>
                    <Setter Property="DragIndicatorStyle">
                        <Setter.Value>
                            <Style TargetType="ContentControl">
                                <Setter Property="Foreground" Value="#7FFFFFFF"/>
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="ContentControl">
                                            <Grid>
                                                <VisualStateManager.VisualStateGroups>
                                                    <VisualStateGroup x:Name="SortStates">
                                                        <VisualState x:Name="Unsorted"/>
                                                        <VisualState x:Name="SortAscending">
                                                            <Storyboard>
                                                                <DoubleAnimation Duration="0" To="1.0" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="SortIcon"/>
                                                            </Storyboard>
                                                        </VisualState>
                                                        <VisualState x:Name="SortDescending">
                                                            <Storyboard>
                                                                <DoubleAnimation Duration="0" To="1.0" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="SortIcon"/>
                                                                <DoubleAnimation Duration="0" To="-.9" Storyboard.TargetProperty="(RenderTransform).ScaleY" Storyboard.TargetName="SortIcon"/>
                                                            </Storyboard>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                </VisualStateManager.VisualStateGroups>
                                                <Rectangle x:Name="BackgroundRectangle" Grid.ColumnSpan="2" Fill="#1c1f23" Stretch="Fill"/>
                                                <Rectangle x:Name="BackgroundGradient" Grid.ColumnSpan="2" Opacity="0" Stretch="Fill">
                                                    <Rectangle.Fill>
                                                        <LinearGradientBrush EndPoint=".7,1" StartPoint=".7,0">
                                                            <GradientStop Color="#242930" Offset="0.015"/>
                                                            <GradientStop Color="#242930" Offset="0.375"/>
                                                            <GradientStop Color="#242930" Offset="0.6"/>
                                                            <GradientStop Color="#242930" Offset="1"/>
                                                        </LinearGradientBrush>
                                                    </Rectangle.Fill>
                                                </Rectangle>
                                                <Grid HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition/>
                                                        <ColumnDefinition Width="Auto"/>
                                                    </Grid.ColumnDefinitions>
                                                    <ContentPresenter Content="{TemplateBinding Content}"/>
                                                    <Path x:Name="SortIcon" Grid.Column="1" Data="F1 M -5.215,6.099L 5.215,6.099L 0,0L -5.215,6.099 Z " Fill="#7FFFFFFF" HorizontalAlignment="Left" Margin="4,0,0,0" Opacity="0" RenderTransformOrigin=".5,.5" Stretch="Uniform" VerticalAlignment="Center" Width="8">
                                                        <Path.RenderTransform>
                                                            <ScaleTransform ScaleY=".9" ScaleX=".9"/>
                                                        </Path.RenderTransform>
                                                    </Path>
                                                </Grid>
                                            </Grid>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </Setter.Value>
                    </Setter>
                    <Setter Property="DropLocationIndicatorStyle">
                        <Setter.Value>
                            <Style TargetType="ContentControl">
                                <Setter Property="Background" Value="#FF3F4346"/>
                                <Setter Property="Width" Value="2"/>
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="ContentControl">
                                            <Rectangle Fill="{TemplateBinding Background}" Height="{TemplateBinding Height}" Width="{TemplateBinding Width}"/>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </Setter.Value>
                    </Setter>
                    <Setter Property="IsTabStop" Value="True"/>
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="sdk:DataGrid">
                                <Grid>
                                    <VisualStateManager.VisualStateGroups>
                                        <VisualStateGroup x:Name="CommonStates">
                                            <VisualState x:Name="Normal"/>
                                            <VisualState x:Name="Disabled">
                                                <Storyboard>
                                                    <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="DisabledVisualElement"/>
                                                </Storyboard>
                                            </VisualState>
                                        </VisualStateGroup>
                                    </VisualStateManager.VisualStateGroups>
                                    <Border BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="2">
                                        <Grid x:Name="Root" Background="{TemplateBinding Background}">
                                            <Grid.Resources>
                                                <ControlTemplate x:Key="TopLeftHeaderTemplate" TargetType="sdk:DataGridColumnHeader">
                                                    <Grid x:Name="Root">
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition/>
                                                            <RowDefinition/>
                                                            <RowDefinition Height="Auto"/>
                                                        </Grid.RowDefinitions>
                                                        <Border BorderBrush="#242930" BorderThickness="0,0,1,0" Background="#242930" Grid.RowSpan="2">
                                                            <Rectangle Stretch="Fill" StrokeThickness="1">
                                                                <Rectangle.Fill>
                                                                    <LinearGradientBrush EndPoint=".7,1" StartPoint=".7,0">
                                                                        <GradientStop Color="#242930" Offset="0.015"/>
                                                                        <GradientStop Color="#242930" Offset="0.375"/>
                                                                        <GradientStop Color="#242930" Offset="0.6"/>
                                                                        <GradientStop Color="#242930" Offset="1"/>
                                                                    </LinearGradientBrush>
                                                                </Rectangle.Fill>
                                                            </Rectangle>
                                                        </Border>
                                                        <Rectangle Fill="#242930" Height="1" Grid.RowSpan="2" StrokeThickness="1" VerticalAlignment="Bottom" Width="Auto"/>
                                                    </Grid>
                                                </ControlTemplate>
                                                <ControlTemplate x:Key="TopRightHeaderTemplate" TargetType="sdk:DataGridColumnHeader">
                                                    <Grid x:Name="RootElement">
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition/>
                                                            <RowDefinition/>
                                                            <RowDefinition Height="Auto"/>
                                                        </Grid.RowDefinitions>
                                                        <Border BorderBrush="#2c3136" BorderThickness="1,0,0,0" Background="#2c3136" Grid.RowSpan="2">
                                                            <!--垂直滚动条上的小块-->
                                                            <Rectangle Stretch="Fill">
                                                                <!--<Rectangle.Fill>
                                                            <LinearGradientBrush StartPoint="0,0.5" EndPoint="0,1.0">
                                                                <GradientStop Color="#4e5661" Offset="0.5"/>
                                                                <GradientStop Color="#414955" Offset="1.0"/>
                                                            </LinearGradientBrush>
                                                        </Rectangle.Fill>-->
                                                                <Rectangle.Fill>
                                                                    <LinearGradientBrush StartPoint="0,0.5" EndPoint="0,1.0">
                                                                        <GradientStop Color="#2c3136" Offset="0.5"/>
                                                                        <GradientStop Color="#2c3136" Offset="1.0"/>
                                                                    </LinearGradientBrush>
                                                                </Rectangle.Fill>
                                                            </Rectangle>
                                                        </Border>
                                                    </Grid>
                                                </ControlTemplate>
                                            </Grid.Resources>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>
                                            <sdk:DataGridColumnHeader x:Name="TopLeftCornerHeader" Template="{StaticResource TopLeftHeaderTemplate}" Width="22"/>
                                            <sdk:DataGridColumnHeadersPresenter x:Name="ColumnHeadersPresenter" Grid.Column="1"/>
                                            <sdk:DataGridColumnHeader x:Name="TopRightCornerHeader" Grid.Column="2" Template="{StaticResource TopRightHeaderTemplate}"/>
                                            <Rectangle x:Name="ColumnHeadersAndRowsSeparator" Grid.ColumnSpan="3" Fill="#1c1f23" Height="1" StrokeThickness="1" VerticalAlignment="Bottom" Width="Auto"/>
                                            <sdk:DataGridRowsPresenter x:Name="RowsPresenter" Grid.ColumnSpan="2" Grid.Row="1"/>
                                            <Rectangle x:Name="BottomRightCorner" Grid.Column="2" Fill="#FFE9EEF4" Grid.Row="2"/>
                                            <Rectangle x:Name="BottomLeftCorner" Grid.ColumnSpan="2" Fill="#FFE9EEF4" Grid.Row="2"/>
                                            <ScrollBar x:Name="VerticalScrollbar" Grid.Column="2" Margin="0,-1,-1,-1" Orientation="Vertical" Grid.Row="1" Width="18" 
                                           Style="{StaticResource SelfScrollBarStyle2}"/>
                                            <Grid Grid.Column="1" Grid.Row="2">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition/>
                                                </Grid.ColumnDefinitions>
                                                <Rectangle x:Name="FrozenColumnScrollBarSpacer"/>
                                                <ScrollBar x:Name="HorizontalScrollbar" Grid.Column="1" Height="18" Margin="-1,0,-1,-1" Orientation="Horizontal"/>
                                            </Grid>
                                            <sdk:ValidationSummary x:Name="ValidationSummary" Grid.ColumnSpan="3" MaxHeight="90" Grid.Row="3"/>
                                        </Grid>
                                    </Border>
                                    <Border x:Name="DisabledVisualElement" Background="#8C1c1f23" CornerRadius="2" HorizontalAlignment="Stretch" Height="Auto" IsHitTestVisible="False" Opacity="0" VerticalAlignment="Stretch" Width="Auto"/>
                                </Grid>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>


            </Grid.Resources>



            <Image x:Name="hiddenL" 
                   Source="/ExternalResource;component/Images/MainPage_menu_arrowleft.png"
                   Cursor="Hand" 
                   Margin="0,3,10,3"
                   HorizontalAlignment="Right" 
                   VerticalAlignment="Center" 
                   Canvas.ZIndex="100" 
                   Stretch="None" 
                   MouseLeftButtonDown="hiddenL_MouseLeftButtonDown"
                   ToolTipService.ToolTip="{Binding [MenuCollapsedToolTip], Source={StaticResource SR}}"/>


            <Grid Grid.Row="0" Style="{StaticResource ViewFirstTitleGridStyle}">

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <Image Source="/ExternalResource;component/Images/MenuHistoryQuery.png"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Stretch"
                        Stretch="Uniform"
                        Height="30"
                        Width="30"
                       Grid.Column="0"/>

                <TextBlock Text="{Binding [HistoryQuery], Source={StaticResource SR}}"
                            Grid.Column="1"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            FontSize="16"
                            FontWeight="Bold"
                            Style="{StaticResource TextBlockLightStyle}"/>

            </Grid>

            <toolkit:Accordion Grid.Row="1"
                               VerticalAlignment="Stretch"
                               VerticalContentAlignment="Stretch"
                               HorizontalAlignment="Stretch"
                               HorizontalContentAlignment="Stretch"
                               BorderThickness="0"
                               SelectionSequence="Simultaneous">

                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="SelectionChanged">
                        <ia:CallMethodAction TargetObject="{Binding}" MethodName="Accordion_SelectionChanged"/>
                    </i:EventTrigger>
                </i:Interaction.Triggers>

                <toolkit:AccordionItem Header="{Binding [AlarmHistory], Source={StaticResource SR}}" 
                                       HorizontalContentAlignment="Stretch"
                                       VerticalContentAlignment="Stretch"
                                       Style="{StaticResource AdviceMenu_AccordionItemStyle}"
                                       IsSelected="True" Selected="AlarmAccordionItem_Selected"
                                       Visibility="{Binding RelativeSource={RelativeSource Self}, Converter={StaticResource FunItemVisibilityConverter},ConverterParameter='02-02-01-01'}">

                    <toolkit:AccordionItem.Content>
                        <Grid Style="{StaticResource ContentGridStyle}">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="10"/>
                            </Grid.RowDefinitions>

                            <Grid Grid.Row="0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="2*"/>
                                    <ColumnDefinition Width="0.5*"/>
                                    <ColumnDefinition Width="30"/>
                                </Grid.ColumnDefinitions>

                                <Grid.RowDefinitions>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                </Grid.RowDefinitions>

                                <TextBlock Margin="0,5,10,5" 
                                            Grid.Row="0" 
                                            Grid.Column="0" 
                                            Text="{Binding [VehicleNumber], Source={StaticResource SR}}" 
                                            HorizontalAlignment="Right" 
                                            VerticalAlignment="Center" Style="{StaticResource TextBlockLightStyle}"/>
                                <TextBox x:Name="AlarmCarNumber" 
                                            Margin="0,5,0,5" 
                                            Grid.Row="0"
                                            Grid.Column="1" 
                                            HorizontalAlignment="Stretch"
                                            Background="#242930" Foreground="#f0f0f0"
                                            MaxLength="36"
                                          Text="{Binding AlarmCarNumber,Mode=TwoWay}"
                                         
                                         VerticalAlignment="Center"/>
                                <!--<TextBlock Margin="0,5,10,5" 
                                            Grid.Row="1" 
                                            Grid.Column="0" 
                                            Text="{Binding [MONITOR_Group], Source={StaticResource SR}}" 
                                            HorizontalAlignment="Right" 
                                            VerticalAlignment="Center" Style="{StaticResource TextBlockLightStyle}"/>
                                <ComboBox Grid.Row="1"
                                         Grid.Column="1"
                                         Margin="0,5,0,5"
                                         HorizontalAlignment="Stretch"
                                         VerticalAlignment="Center"/>
                                <ComboBox Grid.Row="1" Grid.Column="1"  Margin="0,5,0,5" 
                                         ItemsSource="{Binding Groups}"
                                         DisplayMemberPath="GroupName" SelectedValuePath="GroupIndex"
                                        SelectedItem="{Binding SearchByGroup,Mode=TwoWay}"
                                        VerticalAlignment="Center"
                                          ToolTipService.ToolTip="{Binding SearchByGroup.GroupName,Mode=TwoWay}"
                                        HorizontalAlignment="Stretch"
                                        IsEnabled="True"></ComboBox>-->

                                <!--<TextBlock Text="{Binding [AlertType],Source={StaticResource SR}}"
                                           Grid.Row="2"
                                           Grid.Column="0" Style="{StaticResource TextBlockLightStyle}"
                                           HorizontalAlignment="Right"
                                           VerticalAlignment="Center"
                                           Margin="0,5,10,5"/>
                                <ComboBox Grid.Row="2"
                                         Grid.Column="1"
                                         Margin="0,5,0,5"
                                         HorizontalAlignment="Stretch"
                                         VerticalAlignment="Center"/>
                                <ComboBox Grid.Row="2" Grid.Column="1"  Margin="0,5,0,5" 
                                         ItemsSource="{Binding BAlertTypes}"
                                         DisplayMemberPath="Name" SelectedValuePath="Code"
                                        SelectedItem="{Binding SearchByBAlertType,Mode=TwoWay}"
                                        VerticalAlignment="Center"
                                          ToolTipService.ToolTip="{Binding SearchByBAlertType.Name,Mode=TwoWay}"
                                        HorizontalAlignment="Stretch"
                                        IsEnabled="True"></ComboBox>-->



                                <!--<TextBlock Margin="0,5,10,5" 
                                            Grid.Row="3" 
                                            Grid.Column="0" 
                                            Text="{Binding [ALARM_VehicleType], Source={StaticResource SR}}" 
                                            HorizontalAlignment="Right" 
                                            VerticalAlignment="Center" Style="{StaticResource TextBlockLightStyle}"/>
                                <ComboBox Grid.Row="3"
                                         Grid.Column="1"
                                         Margin="0,5,0,5"
                                         HorizontalAlignment="Stretch"
                                         VerticalAlignment="Center"/>
                                <ComboBox Grid.Row="3" Grid.Column="1"  Margin="0,5,0,5" 
                                         ItemsSource="{Binding VehicleTypes}"
                                         DisplayMemberPath="Name" SelectedValuePath="ID"
                                        SelectedItem="{Binding SearchByVehicleType,Mode=TwoWay}"
                                        VerticalAlignment="Center"
                                          ToolTipService.ToolTip="{Binding SearchByVehicleType.Name,Mode=TwoWay}"
                                        HorizontalAlignment="Stretch"
                                        IsEnabled="True"></ComboBox>-->


                                <TextBlock Text="{Binding [FromDate],Source={StaticResource SR}}"
                                           Margin="0,5,10,5" 
                                           Grid.Row="4" 
                                           Grid.Column="0" 
                                           HorizontalAlignment="Right" 
                                           VerticalAlignment="Center" Style="{StaticResource TextBlockLightStyle}"/>
                                <sdk:DatePicker 
                                            Margin="0,5,0,5" 
                                            Grid.Row="4"
                                            Grid.Column="1" 
                                            HorizontalAlignment="Stretch"
                                            VerticalAlignment="Center" SelectedDate="{Binding AlarmStartTime,Mode=TwoWay}"/>
                                <TextBlock Text="{Binding [ToDate],Source={StaticResource SR}}"
                                           Margin="0,5,10,5" 
                                           Grid.Row="5" 
                                           Grid.Column="0" 
                                           HorizontalAlignment="Right" 
                                           VerticalAlignment="Center" Style="{StaticResource TextBlockLightStyle}"/>
                                <sdk:DatePicker 
                                            Margin="0,5,0,5" 
                                            Grid.Row="5"
                                            Grid.Column="1"                                                                  
                                            Foreground="#f0f0f0" 
                                            HorizontalAlignment="Stretch"
                                            VerticalAlignment="Center" SelectedDate="{Binding AlarmEndTime,Mode=TwoWay}"/>
                                <Button Grid.Column="2"
                                        Grid.Row="5" Margin="0,0,10,0"
                                        Style="{StaticResource SearchButtonCommonStyle}"
                                        ToolTipService.ToolTip="{Binding [VDM_Search], Source={StaticResource SR}}"
                                        Command="{Binding AlarmSearchCommand}"/>
                                
                                <Button Grid.Column="2"
                                        Grid.Row="5" HorizontalAlignment="Right" Margin="20,0,0,0"
                                        Style="{StaticResource ExpertButtonCommonStyle}"
                                        ToolTipService.ToolTip="{Binding [MANAGER_Export], Source={StaticResource SR}}"
                                        Command="{Binding AlarmExportCommand}"/>

                            </Grid>

                            <sdk:DataGrid  Grid.Row="1"
                                           x:Name="dgAlarm"
                                           HorizontalAlignment="Stretch"
                                           VerticalAlignment="Stretch"
                                           MinHeight="200" AutoGenerateColumns="False" ItemsSource="{Binding AllAlarms}" IsReadOnly="True" 
                                          SelectedItem="{Binding SelectedAlarmInfo, Mode=TwoWay}" SelectionMode="Single"
                                           Style="{StaticResource DataGridStyleRxx3}">
                                <sdk:DataGrid.Columns>
                                    <sdk:DataGridTemplateColumn  
                                                            HeaderStyle="{StaticResource CustomColumnHeader}"
                                                            Header="VehicleNumber"
                                                            Width="110">
                                        <sdk:DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal" Width="110">
                                                    <Image Stretch="None" Margin="4,2,8,2"  
                                                           VerticalAlignment="Center"        HorizontalAlignment="Left"                                                           
                                                           Source="{Binding VehicleInfo.IsOnLine,Converter={StaticResource VehicleOnLineConverter},FallbackValue='/ExternalResource;component/Images/VehicleOutline.png'}"/>
                                                    <TextBlock  Text="{Binding VehicleId}" 
                                                                HorizontalAlignment="Left"
                                                                VerticalAlignment="Center"  Style="{StaticResource TextBlockLightStyle}"/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </sdk:DataGridTemplateColumn.CellTemplate>
                                    </sdk:DataGridTemplateColumn>

                                    <sdk:DataGridTemplateColumn Header="AlarmTime" Width="70"  HeaderStyle="{StaticResource CustomColumnHeader}">
                                        <sdk:DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Left" >
                                                    <TextBlock Text="{Binding AlarmTime,Converter={StaticResource TimeConverter}}"  Style="{StaticResource TextBlockLightStyle}">
                                                               
                                                                <ToolTipService.ToolTip>
                                                                    <ToolTip Content="{Binding AlarmTime,Converter={StaticResource DateTimeConverter}}" />
                                                                </ToolTipService.ToolTip>
                                                    </TextBlock>
                                                </StackPanel>
                                            </DataTemplate>
                                        </sdk:DataGridTemplateColumn.CellTemplate>
                                    </sdk:DataGridTemplateColumn>

                                    <sdk:DataGridTemplateColumn Header="Operation" Width="*" 
                                                                HeaderStyle="{StaticResource CustomColumnHeader}">
                                        <sdk:DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal">

                                                    <Button  Command="{Binding DataContext.HistoricalVideoCommand,RelativeSource={RelativeSource AncestorType=sdk:DataGrid}}"
                                                                             CommandParameter="{Binding DataContext.VehicleId,RelativeSource={RelativeSource AncestorType=sdk:DataGridRow}}"
                                                                             Margin="2,0,2,0"
                                                                             Padding="0"
                                                                             ToolTipService.ToolTip="{Binding [Rpt_External_Access_COLLSSP],Source={StaticResource SR}}"
                                                                             Style="{StaticResource HistoryVedioCommonStyle}"
                                                             Visibility="{Binding RelativeSource={RelativeSource Self}, Converter={StaticResource FunItemVisibilityConverter},ConverterParameter='02-02-01-01-02'}">
                                                    </Button>


                                                    <Button  Command="{Binding DataContext.AlarmHistroyTraceCommand,RelativeSource={RelativeSource AncestorType=sdk:DataGrid}}"
                                                                             CommandParameter="{Binding DataContext,RelativeSource={RelativeSource AncestorType=sdk:DataGridRow}}"
                                                                             Margin="2,0,2,0"
                                                                             Style="{StaticResource HistoryRoteButtonCommonStyle}"  
                                                                             ToolTipService.ToolTip="{Binding [MONITOR_HistoricalRoute],Source={StaticResource SR}}"
                                                             Visibility="{Binding RelativeSource={RelativeSource Self}, Converter={StaticResource FunItemVisibilityConverter},ConverterParameter='02-02-01-01-03'}">

                                                    </Button>
                                                    <Button Style="{StaticResource ANTBaseInfoGridBtn}" Cursor="Hand" Name="MarkAlarmHappenGraphic"
                                                            ToolTipService.ToolTip="{Binding [Mark], Source={StaticResource SR}}" 
                                                            VerticalAlignment="Center" 
                                                            Command="{Binding DataContext.MarkAlarmHappenGraphicCommand,RelativeSource={RelativeSource AncestorType=sdk:DataGrid}}" 
                                                            CommandParameter="{Binding}"
                                                            Visibility="{Binding RelativeSource={RelativeSource Self}, Converter={StaticResource FunItemVisibilityConverter},ConverterParameter='02-02-01-01-04'}">
                                                        <Image Source="{Binding IsMarkGraphic,Converter={StaticResource MarkConvert}}" Stretch="None" Width="18" Height="18" />
                                                    </Button>
                                                </StackPanel>
                                            </DataTemplate>
                                        </sdk:DataGridTemplateColumn.CellTemplate>
                                    </sdk:DataGridTemplateColumn>
                                </sdk:DataGrid.Columns>
                            </sdk:DataGrid>

                            <Border BorderBrush="#FF617584" Grid.Row="2" BorderThickness="0.5" Height="35">

                                <Grid Style="{StaticResource ContentGridStyle}">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0"
                                                Text="{Binding [Total],Source={StaticResource SR}}"
                                                HorizontalAlignment="Right"
                                                VerticalAlignment="Center"
                                                Margin="0,2,10,2" Style="{StaticResource TextBlockLightStyle}"/>
                                    <TextBlock Text="{Binding AlarmCount}" Grid.Column="1"
                                                HorizontalAlignment="Left"
                                                VerticalAlignment="Center"
                                                Margin="0,2,10,2" Style="{StaticResource TextBlockLightStyle}"/>
                                    <sdk:DataPager Style="{StaticResource DataPagerStyle}"   
                                                Grid.Column="2"
                                                Margin="0,0,0,0"
                                                Height="25" 
                                                Foreground="#f0f0f0" 
                                                Source="{Binding AlarmsDataPager}"
                                                PageSize="40"
                                                Background="{Binding ElementName=ListDataGrid1, Path=Background}"
                                                HorizontalAlignment="Stretch"
                                                VerticalAlignment="Center"/>
                                </Grid>
                            </Border>
                        </Grid>
                    </toolkit:AccordionItem.Content>
                </toolkit:AccordionItem>
                <toolkit:AccordionItem Header="{Binding [AlertHistory], Source={StaticResource SR}}"  
                                       HorizontalContentAlignment="Stretch"
                                       VerticalContentAlignment="Stretch"
                                       Style="{StaticResource AdviceMenu_AccordionItemStyle}" Selected="AlertAccordionItem_Selected"
                                       Visibility="{Binding RelativeSource={RelativeSource Self}, Converter={StaticResource FunItemVisibilityConverter},ConverterParameter='02-02-01-02'}">
                    <toolkit:AccordionItem.Content>
                        <Grid Style="{StaticResource ContentGridStyle}">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="35"/>
                            </Grid.RowDefinitions>

                            <Grid Grid.Row="0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="2*"/>
                                    <ColumnDefinition Width="0.5*"/>
                                    <ColumnDefinition Width="10"/>
                                </Grid.ColumnDefinitions>

                                <Grid.RowDefinitions>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                </Grid.RowDefinitions>

                                <TextBlock Margin="0,5,10,5" 
                                            Grid.Row="0" 
                                            Grid.Column="0" 
                                            Text="{Binding [VehicleNumber], Source={StaticResource SR}}" 
                                            HorizontalAlignment="Right" 
                                            VerticalAlignment="Center" Style="{StaticResource TextBlockLightStyle}"/>
                                <TextBox  
                                            Margin="0,5,0,5" 
                                            Grid.Row="0"
                                            Grid.Column="1" 
                                            HorizontalAlignment="Stretch"
                                            Background="#242930" Foreground="#f0f0f0"
                                            MaxLength="36" Text="{Binding AlertCarNumber,Mode=TwoWay}"
                                         VerticalAlignment="Center"/>

                                <!--<TextBlock Margin="0,5,10,5" 
                                            Grid.Row="1" 
                                            Grid.Column="0" 
                                            Text="{Binding [MONITOR_Group], Source={StaticResource SR}}" 
                                            HorizontalAlignment="Right" 
                                            VerticalAlignment="Center" Style="{StaticResource TextBlockLightStyle}"/>
                                <ComboBox Grid.Row="1"
                                         Grid.Column="1"
                                         Margin="0,5,0,5"
                                         HorizontalAlignment="Stretch"
                                         VerticalAlignment="Center"/>
                                <ComboBox Grid.Row="1" Grid.Column="1"  Margin="0,5,0,5" 
                                         ItemsSource="{Binding Groups}"
                                         DisplayMemberPath="GroupName" SelectedValuePath="GroupIndex"
                                        SelectedItem="{Binding SearchByGroup,Mode=TwoWay}"
                                        VerticalAlignment="Center"
                                          ToolTipService.ToolTip="{Binding SearchByGroup.GroupName,Mode=TwoWay}"
                                        HorizontalAlignment="Stretch"
                                        IsEnabled="True"></ComboBox>-->



                                <TextBlock Text="{Binding [AlertType],Source={StaticResource SR}}"
                                           Grid.Row="2"
                                           Grid.Column="0" Style="{StaticResource TextBlockLightStyle}"
                                           HorizontalAlignment="Right"
                                           VerticalAlignment="Center"
                                           Margin="0,5,10,5"/>
                                <ComboBox Grid.Row="2"
                                         Grid.Column="1"
                                         Margin="0,5,0,5"
                                         HorizontalAlignment="Stretch"
                                         VerticalAlignment="Center"  Name="comboStatus1"/>
                                <ComboBox Grid.Row="2" Grid.Column="1"  Margin="0,5,0,5" 
                                          ItemsSource="{Binding VehicleAlertTypeList}" 
                                          DisplayMemberPath="Name" SelectedValuePath="Code" HorizontalAlignment="Stretch"
                                         VerticalAlignment="Center" SelectedItem="{Binding SelectedAlertType,Mode=TwoWay}" ToolTipService.ToolTip="{Binding SelectedAlertType.Name,Mode=TwoWay}"  Name="comboStatus3" ></ComboBox>



                                <!--<TextBlock Margin="0,5,10,5" 
                                            Grid.Row="3" 
                                            Grid.Column="0" 
                                            Text="{Binding [ALARM_VehicleType], Source={StaticResource SR}}" 
                                            HorizontalAlignment="Right" 
                                            VerticalAlignment="Center" Style="{StaticResource TextBlockLightStyle}"/>
                                <ComboBox Grid.Row="3"
                                         Grid.Column="1"
                                         Margin="0,5,0,5"
                                         HorizontalAlignment="Stretch"
                                         VerticalAlignment="Center"/>
                                <ComboBox Grid.Row="3" Grid.Column="1"  Margin="0,5,0,5" 
                                         ItemsSource="{Binding VehicleTypes}"
                                         DisplayMemberPath="Name" SelectedValuePath="ID"
                                        SelectedItem="{Binding SearchByVehicleType,Mode=TwoWay}"
                                        VerticalAlignment="Center"
                                          ToolTipService.ToolTip="{Binding SearchByVehicleType.Name,Mode=TwoWay}"
                                        HorizontalAlignment="Stretch"
                                        IsEnabled="True"></ComboBox>-->




                                <TextBlock Text="{Binding [FromDate], Source={StaticResource SR}}"
                                           Margin="0,5,10,5" 
                                           Grid.Row="4" 
                                           Grid.Column="0" 
                                           HorizontalAlignment="Right" 
                                           VerticalAlignment="Center" Style="{StaticResource TextBlockLightStyle}"/>
                                <sdk:DatePicker 
                                            Margin="0,5,0,5" 
                                            Grid.Row="4"
                                            Grid.Column="1" 
                                            HorizontalAlignment="Stretch"
                                            VerticalAlignment="Center" SelectedDate="{Binding AlertStartTime,Mode=TwoWay}"/>
                                <TextBlock Text="{Binding [ToDate],Source={StaticResource SR}}"
                                           Margin="0,5,10,5" 
                                           Grid.Row="5" 
                                           Grid.Column="0" 
                                           HorizontalAlignment="Right" 
                                           VerticalAlignment="Center" Style="{StaticResource TextBlockLightStyle}"/>
                                <sdk:DatePicker 
                                            Margin="0,5,0,5" 
                                            Grid.Row="5"
                                            Grid.Column="1" 
                                            HorizontalAlignment="Stretch"
                                            VerticalAlignment="Center" SelectedDate="{Binding AlertEndTime,Mode=TwoWay}"/>
                                <Button Grid.Column="2"
                                        Grid.Row="5"
                                        Style="{StaticResource SearchButtonCommonStyle}"
                                        ToolTipService.ToolTip="{Binding [Search], Source={StaticResource SR}}"
                                        Command="{Binding AlertSearchCommand}"/>
                                <Button Grid.Column="2"
                                        Grid.Row="5" HorizontalAlignment="Right" Margin="20,0,0,0"
                                        Style="{StaticResource ExpertButtonCommonStyle}"
                                        ToolTipService.ToolTip="{Binding [MANAGER_Export], Source={StaticResource SR}}"
                                        Command="{Binding AlertExportCommand}"/>

                            </Grid>

                            <sdk:DataGrid  Grid.Row="1"
                                           x:Name="dgAlert"
                                           HorizontalAlignment="Stretch"
                                           VerticalAlignment="Stretch"
                                           MinHeight="200" AutoGenerateColumns="False" ItemsSource="{Binding AllAlerts}" 
                                           IsReadOnly="True" SelectedItem="{Binding SelectedAlert, Mode=TwoWay}"
                                           SelectionMode="Single"
                                           Style="{StaticResource DataGridStyleRxx3}">

                                <sdk:DataGrid.Columns>

                                    <sdk:DataGridTemplateColumn  
                                                            HeaderStyle="{StaticResource CustomColumnHeader}"
                                                            Header="ALARM_VehicleId"
                                                            Width="100">
                                        <sdk:DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal" Width="100">
                                                    <Image Stretch="None" Margin="4,2,8,2"  VerticalAlignment="Center"                                                                   
                                                                   Source="{Binding VehicleInfo.IsOnLine,Converter={StaticResource VehicleOnLineConverter},FallbackValue='/ExternalResource;component/Images/VehicleOutline.png'}"/>
                                                    <TextBlock  Text="{Binding VehicleId}" Style="{StaticResource TextBlockLightStyle}"></TextBlock>
                                                </StackPanel>
                                            </DataTemplate>
                                        </sdk:DataGridTemplateColumn.CellTemplate>
                                    </sdk:DataGridTemplateColumn>

                                    <sdk:DataGridTemplateColumn Header="ALERT_AlertType" Width="*"  HeaderStyle="{StaticResource CustomColumnHeader}">
                                        <sdk:DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Left">
                                                    <TextBlock Text="{Binding AlertType,Converter={StaticResource BusinessAlertTypeConverter}}"  Style="{StaticResource TextBlockLightStyle}">
                                                                <ToolTipService.ToolTip>
                                                                    <ToolTip Content="{Binding AlertType,Converter={StaticResource BusinessAlertTypeConverter}}" ></ToolTip>
                                                                </ToolTipService.ToolTip>
                                                    </TextBlock>
                                                </StackPanel>
                                            </DataTemplate>
                                        </sdk:DataGridTemplateColumn.CellTemplate>
                                    </sdk:DataGridTemplateColumn>

                                    <sdk:DataGridTemplateColumn Header="AlertTime" Width="70"  HeaderStyle="{StaticResource CustomColumnHeader}">
                                        <sdk:DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Left">
                                                    <TextBlock Text="{Binding AlertTime,Converter={StaticResource TimeConverter}}" ToolTipService.ToolTip="{Binding AlertTime,Converter={StaticResource DateTimeConverter}}" Style="{StaticResource TextBlockLightStyle}">
                                                    </TextBlock>
                                                </StackPanel>
                                            </DataTemplate>
                                        </sdk:DataGridTemplateColumn.CellTemplate>
                                    </sdk:DataGridTemplateColumn>

                                    <sdk:DataGridTemplateColumn Header="Operation" Width="80" HeaderStyle="{StaticResource CustomColumnHeader}">
                                        <sdk:DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal">
                                                    <Button  Command="{Binding DataContext.HistoricalVideoCommand,RelativeSource={RelativeSource AncestorType=sdk:DataGrid}}"
                                                                             CommandParameter="{Binding DataContext.VehicleId,RelativeSource={RelativeSource AncestorType=sdk:DataGridRow}}"
                                                                             Margin="2,0,2,0"
                                                                             ToolTipService.ToolTip="{Binding [Rpt_External_Access_COLLSSP],Source={StaticResource SR}}"
                                                                             Style="{StaticResource HistoryVedioCommonStyle}"
                                                             Visibility="{Binding RelativeSource={RelativeSource Self}, Converter={StaticResource FunItemVisibilityConverter},ConverterParameter='02-02-01-02-02'}">
                                                    </Button>



                                      
                                                    <Button  Command="{Binding DataContext.AlertHistroyTraceCommand,RelativeSource={RelativeSource AncestorType=sdk:DataGrid}}"
                                                                             CommandParameter="{Binding DataContext,RelativeSource={RelativeSource AncestorType=sdk:DataGridRow}}"
                                                                             Margin="2,0,2,0"
                                                                             Style="{StaticResource HistoryRoteButtonCommonStyle}"  
                                                                             ToolTipService.ToolTip="{Binding [MONITOR_HistoricalRoute],Source={StaticResource SR}}"
                                                              Visibility="{Binding RelativeSource={RelativeSource Self}, Converter={StaticResource FunItemVisibilityConverter},ConverterParameter='02-02-01-02-03'}">

                                                    </Button>

                                                    <Button Style="{StaticResource ANTBaseInfoGridBtn}" Cursor="Hand" Name="MarkAlertHappenGraphic"
                                                            ToolTipService.ToolTip="{Binding [Mark], Source={StaticResource SR}}" 
                                                            VerticalAlignment="Center" 
                                                            Command="{Binding DataContext.MarkAlertHappenGraphicCommand,RelativeSource={RelativeSource AncestorType=sdk:DataGrid}}" 
                                                             Visibility="{Binding RelativeSource={RelativeSource Self}, Converter={StaticResource FunItemVisibilityConverter},ConverterParameter='02-02-01-02-04'}"
                                                            CommandParameter="{Binding}"
                                                             >
                                                        <Image Source="{Binding IsMarkGraphic,Converter={StaticResource MarkConvert}}" Stretch="None" Width="18" Height="18" />
                                                    </Button>

                                                </StackPanel>
                                            </DataTemplate>
                                        </sdk:DataGridTemplateColumn.CellTemplate>
                                    </sdk:DataGridTemplateColumn>
                                </sdk:DataGrid.Columns>

                            </sdk:DataGrid>

                            <Border BorderBrush="#FF617584" Grid.Row="2" BorderThickness="0.5" Height="35">

                                <Grid Style="{StaticResource ContentGridStyle}">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0"
                                                Text="{Binding [Total],Source={StaticResource SR}}"
                                                HorizontalAlignment="Right"
                                                VerticalAlignment="Center"
                                                Margin="0,2,10,2" Style="{StaticResource TextBlockLightStyle}"/>
                                    <TextBlock Text="{Binding AlertCount}" Grid.Column="1"
                                                HorizontalAlignment="Left"
                                                VerticalAlignment="Center"
                                                Margin="0,2,10,2" Style="{StaticResource TextBlockLightStyle}"/>
                                    <sdk:DataPager Style="{StaticResource DataPagerStyle}"   
                                                Grid.Column="2"
                                                Margin="0,0,0,0"
                                                Height="25" 
                                                Foreground="#f0f0f0" 
                                                Source="{Binding AlertsDataPager}"
                                                PageSize="30"
                                                Background="{Binding ElementName=ListDataGrid, Path=Background}"
                                                HorizontalAlignment="Stretch"
                                                VerticalAlignment="Center"/>
                                </Grid>
                            </Border>
                        </Grid>
                    </toolkit:AccordionItem.Content>
                </toolkit:AccordionItem>

                <toolkit:AccordionItem Header="{Binding [SafeDeiveAlertQuery], Source={StaticResource SR}}"  
                                       HorizontalContentAlignment="Stretch"
                                       VerticalContentAlignment="Stretch"
                                       Style="{StaticResource AdviceMenu_AccordionItemStyle}" Selected="DeviceAlertAccordionItem_Selected"
                                       Visibility="{Binding RelativeSource={RelativeSource Self}, Converter={StaticResource FunItemVisibilityConverter},ConverterParameter='02-02-01-02'}">
                    <toolkit:AccordionItem.Content>
                        <Grid Style="{StaticResource ContentGridStyle}">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="35"/>
                            </Grid.RowDefinitions>

                            <Grid Grid.Row="0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="2*"/>
                                    <ColumnDefinition Width="0.3*"/>
                                    <ColumnDefinition Width="0.3*"/>
                                </Grid.ColumnDefinitions>

                                <Grid.RowDefinitions>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                </Grid.RowDefinitions>

                                <TextBlock Margin="0,5,10,5" 
                                            Grid.Row="0" 
                                            Grid.Column="0" Style="{StaticResource TextBlockLightStyle}"
                                            Text="{Binding [VehicleNumber], Source={StaticResource SR}}" 
                                            HorizontalAlignment="Right" 
                                            VerticalAlignment="Center"/>
                                <TextBox  
                                            Margin="0,5,0,5" 
                                            Grid.Row="0"
                                            Grid.Column="1" Background="#242930" Foreground="#f0f0f0"
                                            HorizontalAlignment="Stretch"
                                            MaxLength="36" Text="{Binding DeviceAlertCarNumber,Mode=TwoWay}"
                                         VerticalAlignment="Center"/>


                                <!--<TextBlock Margin="0,5,10,5" 
                                            Grid.Row="1" 
                                            Grid.Column="0" 
                                            Text="{Binding [MONITOR_Group], Source={StaticResource SR}}" 
                                            HorizontalAlignment="Right" 
                                            VerticalAlignment="Center" Style="{StaticResource TextBlockLightStyle}"/>
                                <ComboBox Grid.Row="1"
                                         Grid.Column="1"
                                         Margin="0,5,0,5"
                                         HorizontalAlignment="Stretch"
                                         VerticalAlignment="Center"/>
                                <ComboBox Grid.Row="1" Grid.Column="1"  Margin="0,5,0,5" 
                                         ItemsSource="{Binding Groups}"
                                         DisplayMemberPath="GroupName" SelectedValuePath="GroupIndex"
                                        SelectedItem="{Binding SearchByGroup,Mode=TwoWay}"
                                        VerticalAlignment="Center"
                                          ToolTipService.ToolTip="{Binding SearchByGroup.GroupName,Mode=TwoWay}"
                                        HorizontalAlignment="Stretch"
                                        IsEnabled="True"></ComboBox>-->


                                <!--<TextBlock Margin="0,5,10,5" 
                                            Grid.Row="3" 
                                            Grid.Column="0" 
                                            Text="{Binding [ALARM_VehicleType], Source={StaticResource SR}}" 
                                            HorizontalAlignment="Right" 
                                            VerticalAlignment="Center" Style="{StaticResource TextBlockLightStyle}"/>
                                <ComboBox Grid.Row="3"
                                         Grid.Column="1"
                                         Margin="0,5,0,5"
                                         HorizontalAlignment="Stretch"
                                         VerticalAlignment="Center"/>
                                <ComboBox Grid.Row="3" Grid.Column="1"  Margin="0,5,0,5" 
                                         ItemsSource="{Binding VehicleTypes}"
                                         DisplayMemberPath="Name" SelectedValuePath="ID"
                                        SelectedItem="{Binding SearchByVehicleType,Mode=TwoWay}"
                                        VerticalAlignment="Center"
                                          ToolTipService.ToolTip="{Binding SearchByVehicleType.Name,Mode=TwoWay}"
                                        HorizontalAlignment="Stretch"
                                        IsEnabled="True"></ComboBox>-->


                                <TextBlock Text="{Binding [FromDate], Source={StaticResource SR}}"
                                           Margin="0,5,10,5" 
                                           Grid.Row="4" Style="{StaticResource TextBlockLightStyle}"
                                           Grid.Column="0" 
                                           HorizontalAlignment="Right" 
                                           VerticalAlignment="Center"/>
                                <sdk:DatePicker 
                                            Margin="0,5,0,5" 
                                            Grid.Row="4"
                                            Grid.Column="1" 
                                            HorizontalAlignment="Stretch"
                                     DisplayDateEnd="{Binding DeviceAlertEndTime,Mode=TwoWay}"       
                                
                                            VerticalAlignment="Center" SelectedDate="{Binding DeviceAlertStartTime,Mode=TwoWay}"/>
                                <TextBlock Text="{Binding [ToDate],Source={StaticResource SR}}"
                                           Margin="0,5,10,5" 
                                           Grid.Row="5" 
                                           Grid.Column="0" Style="{StaticResource TextBlockLightStyle}"
                                           HorizontalAlignment="Right" 
                                           VerticalAlignment="Center"/>
                                <sdk:DatePicker 
                                            Margin="0,5,0,5" 
                                            Grid.Row="5"
                                            Grid.Column="1" 
                                            HorizontalAlignment="Stretch"
                                      
                                    DisplayDateStart="{Binding DeviceAlertStartTime,Mode=TwoWay}"
                                            VerticalAlignment="Center" SelectedDate="{Binding DeviceAlertEndTime,Mode=TwoWay}"/>
                                <TextBlock Text="{Binding [AlertType],Source={StaticResource SR}}"
                                           Grid.Row="2"
                                           Grid.Column="0" Style="{StaticResource TextBlockLightStyle}"
                                           HorizontalAlignment="Right"
                                           VerticalAlignment="Center"
                                           Margin="0,5,10,5"/>
                                <ComboBox Grid.Row="2"
                                         Grid.Column="1"
                                         Margin="0,5,0,5"
                                         HorizontalAlignment="Stretch"
                                         VerticalAlignment="Center"/>
                                <ComboBox Grid.Row="2" Grid.Column="1"  Margin="0,5,0,5" 
                                         ItemsSource="{Binding ZAlertTypes}"
                                         DisplayMemberPath="Name" SelectedValuePath="Code"
                                        SelectedItem="{Binding SearchByAlertType,Mode=TwoWay}"
                                        VerticalAlignment="Center"
                                          ToolTipService.ToolTip="{Binding SearchByAlertType.Name,Mode=TwoWay}"
                                        HorizontalAlignment="Stretch"
                                        IsEnabled="True"></ComboBox>
                                <Button Grid.Column="2"
                                        Grid.Row="5"
                                        Style="{StaticResource SearchButtonCommonStyle}"
                                        ToolTipService.ToolTip="{Binding [Search], Source={StaticResource SR}}"
                                        Command="{Binding DeviceAlertSearchCommand}"/>
                                <Button Grid.Column="3"
                                        Grid.Row="5" HorizontalAlignment="Right" 
                                        Style="{StaticResource ExpertButtonCommonStyle}"
                                        ToolTipService.ToolTip="{Binding [MANAGER_Export], Source={StaticResource SR}}"
                                        Command="{Binding DeviceAlertExportCommand}"/>
                                <!--<Button Grid.Column="3"
                                        Grid.Row="3"
                                        ToolTipService.ToolTip="{Binding [MarkAll], Source={StaticResource SR}}" 
                                        Style="{StaticResource LocateButtonCommonStyle}" Width="20" Height="20"
                                        Command="{Binding DeviceAlertLocateCommand}"
                                        Visibility="{Binding RelativeSource={RelativeSource Self}, Converter={StaticResource FunItemVisibilityConverter},ConverterParameter='02-02-01-01-04'}">

                                </Button>-->

                            </Grid>

                            <sdk:DataGrid  Grid.Row="1"
                                           x:Name="dgDeviceAlert"
                                           HorizontalAlignment="Stretch"
                                           VerticalAlignment="Stretch"
                                           MinHeight="200" AutoGenerateColumns="False" ItemsSource="{Binding AllDeviceAlerts}" 
                                           IsReadOnly="True" SelectedItem="{Binding SelectedDeviceAlert, Mode=TwoWay}"
                                           SelectionMode="Single"
                                           Style="{StaticResource DataGridStyleRxx3}">

                                <sdk:DataGrid.Columns>

                                    <sdk:DataGridTemplateColumn  
                                                            HeaderStyle="{StaticResource CustomColumnHeader}"
                                                            Header="ALARM_VehicleId"
                                                            Width="100">
                                        <sdk:DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal" Width="100">
                                                    <Image Stretch="None" Margin="4,2,8,2"  VerticalAlignment="Center"                                                                   
                                                                   Source="{Binding VehicleInfo.IsOnLine,Converter={StaticResource VehicleOnLineConverter},FallbackValue='/ExternalResource;component/Images/VehicleOutline.png'}"/>
                                                    <TextBlock  Text="{Binding VehicleId}" Foreground="#f0f0f0"></TextBlock>
                                                </StackPanel>
                                            </DataTemplate>
                                        </sdk:DataGridTemplateColumn.CellTemplate>
                                    </sdk:DataGridTemplateColumn>

                                    <sdk:DataGridTemplateColumn Header="ALERT_AlertType" Width="*"  HeaderStyle="{StaticResource CustomColumnHeader}">
                                        <sdk:DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Left">
                                                    <TextBlock Text="{Binding AlertType,Converter={StaticResource DeviceTypeConverter}}" ToolTipService.ToolTip="{Binding AlertType,Converter={StaticResource DeviceTypeConverter}}" Foreground="#f0f0f0" >
                                                    </TextBlock>
                                                </StackPanel>
                                            </DataTemplate>
                                        </sdk:DataGridTemplateColumn.CellTemplate>
                                    </sdk:DataGridTemplateColumn>

                                    <sdk:DataGridTemplateColumn Header="AlertTime" Width="70"  HeaderStyle="{StaticResource CustomColumnHeader}">
                                        <sdk:DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Left">
                                                    <TextBlock Text="{Binding AlertTime,Converter={StaticResource TimeConverter}}" ToolTipService.ToolTip="{Binding AlertTime,Converter={StaticResource DateTimeConverter}}" Foreground="#f0f0f0">
                                                    </TextBlock>
                                                </StackPanel>
                                            </DataTemplate>
                                        </sdk:DataGridTemplateColumn.CellTemplate>
                                    </sdk:DataGridTemplateColumn>

                                    <sdk:DataGridTemplateColumn Header="Operation" Width="80" HeaderStyle="{StaticResource CustomColumnHeader}">
                                        <sdk:DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal">
                                                    <Button  Command="{Binding DataContext.HistoricalVideoCommand,RelativeSource={RelativeSource AncestorType=sdk:DataGrid}}"
                                                                             CommandParameter="{Binding DataContext.VehicleId,RelativeSource={RelativeSource AncestorType=sdk:DataGridRow}}"
                                                                             Margin="2,0,2,0"
                                                                             ToolTipService.ToolTip="{Binding [Rpt_External_Access_COLLSSP],Source={StaticResource SR}}"
                                                                             Style="{StaticResource HistoryVedioCommonStyle}"
                                                             Visibility="{Binding RelativeSource={RelativeSource Self}, Converter={StaticResource FunItemVisibilityConverter},ConverterParameter='02-02-01-02-02'}">
                                                    </Button>


                                                    <Button  Command="{Binding DataContext.DeviceAlertHistroyTraceCommand,RelativeSource={RelativeSource AncestorType=sdk:DataGrid}}"
                                                                             CommandParameter="{Binding DataContext,RelativeSource={RelativeSource AncestorType=sdk:DataGridRow}}"
                                                                             Margin="2,0,2,0"
                                                                             Style="{StaticResource HistoryRoteButtonCommonStyle}"  
                                                                             ToolTipService.ToolTip="{Binding [MONITOR_HistoricalRoute],Source={StaticResource SR}}"
                                                              Visibility="{Binding RelativeSource={RelativeSource Self}, Converter={StaticResource FunItemVisibilityConverter},ConverterParameter='02-02-01-02-03'}">

                                                    </Button>

                                                    <Button Style="{StaticResource ANTBaseInfoGridBtn}" Cursor="Hand" Name="MarkAlertHappenGraphic"
                                                            ToolTipService.ToolTip="{Binding [Mark], Source={StaticResource SR}}" 
                                                            VerticalAlignment="Center" 
                                                            Command="{Binding DataContext.MarkDeviceAlertHappenGraphicCommand,RelativeSource={RelativeSource AncestorType=sdk:DataGrid}}" 
                                                             Visibility="{Binding RelativeSource={RelativeSource Self}, Converter={StaticResource FunItemVisibilityConverter},ConverterParameter='02-02-01-02-04'}"
                                                            CommandParameter="{Binding}"
                                                             >
                                                        <Image Source="{Binding IsMarkGraphic,Converter={StaticResource MarkConvert}}" Stretch="None" Width="18" Height="18" />
                                                    </Button>

                                                </StackPanel>
                                            </DataTemplate>
                                        </sdk:DataGridTemplateColumn.CellTemplate>
                                    </sdk:DataGridTemplateColumn>
                                </sdk:DataGrid.Columns>

                            </sdk:DataGrid>

                            <Border BorderBrush="#FF617584" Grid.Row="2" BorderThickness="0.5" Height="35">

                                <Grid Style="{StaticResource ContentGridStyle}">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0"
                                                Text="{Binding [Total],Source={StaticResource SR}}"
                                                HorizontalAlignment="Right" 
                                                VerticalAlignment="Center" Style="{StaticResource TextBlockLightStyle}"
                                                Margin="0,2,10,2"/>
                                    <TextBlock Text="{Binding DeviceAlertCount}" Grid.Column="1"
                                                HorizontalAlignment="Left"
                                                VerticalAlignment="Center" Style="{StaticResource TextBlockLightStyle}"
                                                Margin="0,2,10,2"/>
                                    <sdk:DataPager Style="{StaticResource DataPagerStyle}"   
                                                Grid.Column="2"
                                                Margin="0,0,0,0"
                                                Height="25"
                                                Source="{Binding DeviceAlertsDataPager}"
                                                PageSize="12"
                                                Foreground="#f0f0f0" 
                                                Background="{Binding ElementName=ListDataGrid, Path=Background}"
                                                HorizontalAlignment="Stretch"
                                                VerticalAlignment="Center"/>
                                </Grid>
                            </Border>
                        </Grid>
                    </toolkit:AccordionItem.Content>
                </toolkit:AccordionItem>
                
            </toolkit:Accordion>
        </Grid>
        <sdk:GridSplitter/>
        <Border   Name="GISContent" Grid.Column="1" BorderThickness="0,0">
            <Grid >
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="auto"/>
                </Grid.RowDefinitions>
                <Border Name="ContentGrid" Margin="0,0,0,0" Grid.Row="0" Grid.RowSpan="1" HorizontalAlignment="Stretch">
                    <sdk:Frame  AllowDrop="True" 
                            Margin="0,0,0,0"
                            BorderThickness="0"
                            JournalOwnership="OwnsJournal"
                            x:Name="ContentFrame"
                            Source="/MonitorGisView" 
                            Navigated="ContentFrame_Navigated" 
                            NavigationFailed="ContentFrame_NavigationFailed" HorizontalAlignment="Stretch">
                        <sdk:Frame.UriMapper>
                            <sdk:UriMapper>
                                <sdk:UriMapping  Uri="" MappedUri="/GisManagement;component/Views/GisNavigationer.xaml"/>
                                <sdk:UriMapping Uri="/ShowText/{text}" MappedUri="/GisManagement;component/Views/GisNavigationer.xaml?view=TextView&amp;text={text}"/>
                                <sdk:UriMapping Uri="/{pageName}" MappedUri="/GisManagement;component/Views/GisNavigationer.xaml?view={pageName}"/>
                            </sdk:UriMapper>
                        </sdk:Frame.UriMapper>
                    </sdk:Frame>
                </Border>
            </Grid>
        </Border>

        <!--向右显示面板-->
        <Grid x:Name="GoRightShowPane" 
              Canvas.ZIndex="100" 
                  Grid.Row="2"
              Grid.Column="2"
              Margin="-5,0,0,0" HorizontalAlignment="Right" 
              VerticalAlignment="Center" Visibility="Collapsed">
            <Image x:Name="GoRightShow"  
                           Source="/ExternalResource;component/Images/GoLeftslideShow.png"
                           Cursor="Hand" 
                           Stretch="None" 
                           HorizontalAlignment="Right" 
                                   VerticalAlignment="Center"
                           Opacity="0.9" 
                           ToolTipService.ToolTip="{Binding [MenuVisibleToolTip], Source={StaticResource SR}}" Margin="5,0,0,0" 
                   MouseLeftButtonDown="GoRightShow_MouseLeftButtonDown"
                       />
        </Grid>

        <Grid x:Name="InfoArea" Grid.Column="2" Style="{StaticResource SystemInfoShowGridStyle}">
            <Grid.RenderTransform>
                <TranslateTransform/>
            </Grid.RenderTransform>
            <Grid Style="{StaticResource SystemInfoShowGridStyle}">
                <Grid.RowDefinitions>
                    <RowDefinition Height="40"></RowDefinition>
                    <RowDefinition Height="*"></RowDefinition>
                </Grid.RowDefinitions>
                <Grid Grid.Row="0">
                    <Grid>

                        <Grid.Background>
                            <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                <GradientStop Color="#383f49" Offset="0.0"/>
                                <GradientStop Color="#1d2025" Offset="1.0"/>
                            </LinearGradientBrush>
                        </Grid.Background>

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="5"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="25"/>
                            <ColumnDefinition Width="10"/>
                        </Grid.ColumnDefinitions>
                        <Image Grid.Column="1" Style="{StaticResource TitleImageStyle}"
                                   />
                        <TextBlock HorizontalAlignment="Left" TextWrapping="Wrap" 
                                       Text="{Binding [InfoRegion],Source={StaticResource SR}}"
                                       VerticalAlignment="Center" Grid.Column="2" Margin="0,0,0,0" 
                                       FontSize="12"
                                       FontWeight="Bold" Style="{StaticResource TextBlockLightStyle}"/>

                    </Grid>

                </Grid>

                <!--一键报警历史查询-->
                <ScrollViewer Grid.Row="1" Style="{StaticResource ScrollViewerRightStyle}" Height="Auto"
                              HorizontalAlignment="Stretch"
                              VerticalAlignment="Stretch"
                                  x:Name="AlarmScrollViewer" Visibility="{Binding AlarmVisiblity}" >

                    <Grid Style="{StaticResource SystemInfoShowGridStyle}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>


                        <Grid.Resources>

                            <Style TargetType="sdk:DataGridColumnHeader" x:Key="NoHeaderColumnHeaderStyle">
                                <Setter Property="HorizontalAlignment" Value="Stretch"/>
                                <Setter Property="VerticalAlignment" Value="Center"/>
                                <Setter Property="BorderThickness" Value="0"></Setter>
                                <Setter Property="VerticalContentAlignment" Value="Stretch"/>
                                <Setter Property="Height" Value="0"/>
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="sdk:DataGridColumnHeader">
                                            <Border BorderBrush="#484f58"
                            BorderThickness="0"
                            x:Name="ColumnHeaderBorder">
                                                <Border.Background>
                                                    <LinearGradientBrush StartPoint="0,0.5" EndPoint="0,1.0">
                                                        <GradientStop Color="#4e5661" Offset="0.5"/>
                                                        <GradientStop Color="#414955" Offset="1.0"/>
                                                    </LinearGradientBrush>
                                                </Border.Background>

                                                <StackPanel Background="{TemplateBinding Background}"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center">
                                                    <ContentPresenter>
                                                        <ContentPresenter.Content>
                                                            <TextBlock Text="{TemplateBinding Content}"
                                                Foreground="#e3dfdf"
                                                HorizontalAlignment="Stretch"
                                                VerticalAlignment="Stretch"
                                                FontSize="12"
                                               FontWeight="Bold"/>
                                                        </ContentPresenter.Content>
                                                    </ContentPresenter>
                                                </StackPanel>
                                            </Border>

                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>

                            </Style>

                            <!--DataGrid控件行样式-->
                            <Style TargetType="sdk:DataGridRow">

                                <Setter Property="IsTabStop" Value="False" />
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="sdk:DataGridRow">
                                            <sdk:DataGridFrozenGrid Name="Root">
                                                <VisualStateManager.VisualStateGroups>
                                                    <VisualStateGroup x:Name="CommonStates">
                                                        <VisualState x:Name="Normal">
                                                            <Storyboard>
                                                                <DoubleAnimation Storyboard.TargetName="BackgroundRectangle" Storyboard.TargetProperty="Opacity" Duration="0" To="0"/>
                                                            </Storyboard>
                                                        </VisualState>

                                                        <VisualState x:Name="NormalAlternatingRow">
                                                            <Storyboard>
                                                                <DoubleAnimation Storyboard.TargetName="BackgroundRectangle" 
                                                         Storyboard.TargetProperty="Opacity" Duration="0" To="0"/>
                                                            </Storyboard>
                                                        </VisualState>
                                                        <!--设置鼠标滑过的颜色-->
                                                        <VisualState x:Name="MouseOver">
                                                            <Storyboard>
                                                                <DoubleAnimation Storyboard.TargetName="BackgroundRectangle" 
                                                         Storyboard.TargetProperty="Opacity" Duration="0" To=".5"/>

                                                                <ColorAnimation Duration="0" Storyboard.TargetName="BackgroundRectangle" 
                                                        Storyboard.TargetProperty="(Fill).Color" To="#1c1f23"/>
                                                            </Storyboard>
                                                        </VisualState>
                                                        <VisualState x:Name="NormalSelected">
                                                            <Storyboard>
                                                                <DoubleAnimation Storyboard.TargetName="BackgroundRectangle" 
                                                         Storyboard.TargetProperty="Opacity" Duration="0" To="1"/>
                                                                <ColorAnimation Duration="0" Storyboard.TargetName="BackgroundRectangle" 
                                                        Storyboard.TargetProperty="(Fill).Color" To="#1c1f23"/>
                                                            </Storyboard>
                                                        </VisualState>
                                                        <VisualState x:Name="MouseOverSelected">
                                                            <Storyboard>
                                                                <DoubleAnimation Storyboard.TargetName="BackgroundRectangle" 
                                                         Storyboard.TargetProperty="Opacity" Duration="0" To="1"/>
                                                            </Storyboard>
                                                        </VisualState>
                                                        <VisualState x:Name="UnfocusedSelected">
                                                            <Storyboard>
                                                                <DoubleAnimation Storyboard.TargetName="BackgroundRectangle" 
                                                         Storyboard.TargetProperty="Opacity" Duration="0" To="1"/>

                                                                <ColorAnimation Duration="0" Storyboard.TargetName="BackgroundRectangle" 
                                                        Storyboard.TargetProperty="(Fill).Color" To="#1c1f23"/>
                                                            </Storyboard>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                    <VisualStateGroup x:Name="ValidationStates">
                                                        <VisualState x:Name="Valid"/>
                                                        <VisualState x:Name="Invalid">
                                                            <Storyboard>
                                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="BackgroundRectangle" Storyboard.TargetProperty="Visibility">
                                                                    <DiscreteObjectKeyFrame KeyTime="0" Value="Collapsed"/>
                                                                </ObjectAnimationUsingKeyFrames>
                                                                <DoubleAnimation Storyboard.TargetName="InvalidVisualElement" Storyboard.TargetProperty="Opacity" Duration="0" To="1"/>
                                                            </Storyboard>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                </VisualStateManager.VisualStateGroups>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition/>
                                                    <!--<RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>-->
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto" />
                                                    <ColumnDefinition/>
                                                </Grid.ColumnDefinitions>

                                                <Grid.Resources>
                                                    <Storyboard x:Key="DetailsVisibleTransition">
                                                        <DoubleAnimation Storyboard.TargetName="DetailsPresenter" Storyboard.TargetProperty="ContentHeight" Duration="00:00:0.1" />
                                                    </Storyboard>
                                                </Grid.Resources>

                                                <Rectangle x:Name="BackgroundRectangle" Grid.RowSpan="2" Grid.ColumnSpan="2" Opacity="0" Fill="#1c1f23"/>
                                                <Rectangle x:Name="InvalidVisualElement" Grid.RowSpan="2" Grid.ColumnSpan="2" Opacity="0" Fill="#1c1f23"/>
                                                <sdk:DataGridRowHeader Grid.RowSpan="3" Name="RowHeader" sdk:DataGridFrozenGrid.IsFrozen="True" />
                                                <sdk:DataGridCellsPresenter Grid.Column="1" Name="CellsPresenter" sdk:DataGridFrozenGrid.IsFrozen="True" />
                                                <sdk:DataGridDetailsPresenter Grid.Row="1" Grid.Column="1" Name="DetailsPresenter" />
                                                <Rectangle Grid.Row="2" Grid.Column="1" Name="BottomGridLine" HorizontalAlignment="Stretch" Height="1" />
                                            </sdk:DataGridFrozenGrid>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>

                            </Style>


                            <Style TargetType="sdk:DataGridCell">
                                <Setter Property="Background" Value="#1E2226" />
                                <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                <Setter Property="VerticalContentAlignment" Value="Center" />
                                <Setter Property="IsTabStop" Value="False" />
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="sdk:DataGridCell">
                                            <Grid Name="Root" Background="{TemplateBinding Background}">
                                                <VisualStateManager.VisualStateGroups>
                                                    <VisualStateGroup x:Name="CurrentStates">
                                                        <VisualState x:Name="Regular" />
                                                        <VisualState x:Name="Current">
                                                            <Storyboard>
                                                                <DoubleAnimation Storyboard.TargetName="FocusVisual" Storyboard.TargetProperty="Opacity" To="1" Duration="0" />
                                                                <ColorAnimation Storyboard.TargetName="FocusVisual"
                                                        Storyboard.TargetProperty="(Shape.Fill).(SolidColorBrush.Color)"
                                                        To="#1E2226" Duration="0"/>
                                                                <!--单元格的边框-->
                                                                <ColorAnimation Storyboard.TargetName="FocusVisual"
                                                        Storyboard.TargetProperty="(Shape.Stroke).(SolidColorBrush.Color)"
                                                        To="#1E2226" Duration="0"/>
                                                            </Storyboard>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                    <VisualStateGroup x:Name="ValidationStates">
                                                        <VisualState x:Name="Valid"/>
                                                        <VisualState x:Name="Invalid">
                                                            <Storyboard>
                                                                <DoubleAnimation Storyboard.TargetName="InvalidVisualElement" Storyboard.TargetProperty="Opacity" Duration="0" To="1"/>
                                                                <ColorAnimation Storyboard.TargetName="FocusVisual" Storyboard.TargetProperty="(Fill).Color" Duration="0" To="#1E2226"/>
                                                            </Storyboard>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                </VisualStateManager.VisualStateGroups>

                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition />
                                                    <ColumnDefinition Width="Auto" />
                                                </Grid.ColumnDefinitions>

                                                <Rectangle Name="FocusVisual" Stroke="#1E2226" StrokeThickness="1" Fill="#1E2226" HorizontalAlignment="Stretch" 
                               VerticalAlignment="Stretch" IsHitTestVisible="false" Opacity="0" />

                                                <ContentPresenter
                                    Content="{TemplateBinding Content}"
                                    ContentTemplate="{TemplateBinding ContentTemplate}"
                                    HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                    VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                    Margin="{TemplateBinding Padding}" />

                                                <Rectangle x:Name="InvalidVisualElement" IsHitTestVisible="False" StrokeThickness="1" Stroke="#1E2226" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Opacity="0"/>

                                                <Rectangle Name="RightGridLine" Grid.Column="1" VerticalAlignment="Stretch" Width="1" />
                                            </Grid>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>

                            <Style x:Key="DataGridStyleRxx2" TargetType="sdk:DataGrid">
                                <Setter Property="HorizontalGridLinesBrush" Value="#1E2226"/>
                                <Setter Property="VerticalGridLinesBrush" Value="#1E2226"/>
                                <Setter Property="HorizontalScrollBarVisibility" Value="Hidden"/>
                                <Setter Property="VerticalScrollBarVisibility" Value="Auto"/>
                                <Setter Property="HorizontalAlignment" Value="Stretch"/>
                                <Setter Property ="VerticalAlignment" Value="Stretch"/>
                                <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                <Setter Property="VerticalContentAlignment" Value="Stretch"/>
                                <Setter Property="Background" Value="#272c32"/>
                                <Setter Property="AutoGenerateColumns" Value="False"/>
                                <Setter Property="IsReadOnly" Value="True"/>
                                <Setter Property="GridLinesVisibility" Value="All"/>
                                <Setter Property="RowBackground" Value="#1E2226"/>
                                <Setter Property="BorderThickness" Value="0"/>
                                <Setter Property="AlternatingRowBackground" Value="#1E2226"/>
                                <Setter Property="HeadersVisibility" Value="Column"/>
                                <Setter Property="SelectionMode" Value="Extended"/>
                                <Setter Property="CanUserReorderColumns" Value="True"/>
                                <Setter Property="CanUserResizeColumns" Value="True"/>
                                <Setter Property="CanUserSortColumns" Value="True"/>
                                <Setter Property="RowDetailsVisibilityMode" Value="VisibleWhenSelected"/>
                                <Setter Property="BorderBrush">
                                    <Setter.Value>
                                        <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                            <GradientStop Color="#1E2226" Offset="0"/>
                                            <GradientStop Color="#1E2226" Offset="0.375"/>
                                            <GradientStop Color="#1E2226" Offset="0.375"/>
                                            <GradientStop Color="#1E2226" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="DragIndicatorStyle">
                                    <Setter.Value>
                                        <Style TargetType="ContentControl">
                                            <Setter Property="Foreground" Value="#7FFFFFFF"/>
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="ContentControl">
                                                        <Grid>
                                                            <VisualStateManager.VisualStateGroups>
                                                                <VisualStateGroup x:Name="SortStates">
                                                                    <VisualState x:Name="Unsorted"/>
                                                                    <VisualState x:Name="SortAscending">
                                                                        <Storyboard>
                                                                            <DoubleAnimation Duration="0" To="1.0" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="SortIcon"/>
                                                                        </Storyboard>
                                                                    </VisualState>
                                                                    <VisualState x:Name="SortDescending">
                                                                        <Storyboard>
                                                                            <DoubleAnimation Duration="0" To="1.0" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="SortIcon"/>
                                                                            <DoubleAnimation Duration="0" To="-.9" Storyboard.TargetProperty="(RenderTransform).ScaleY" Storyboard.TargetName="SortIcon"/>
                                                                        </Storyboard>
                                                                    </VisualState>
                                                                </VisualStateGroup>
                                                            </VisualStateManager.VisualStateGroups>
                                                            <Rectangle x:Name="BackgroundRectangle" Grid.ColumnSpan="2" Fill="#1E2226" Stretch="Fill"/>
                                                            <Rectangle x:Name="BackgroundGradient" Grid.ColumnSpan="2" Opacity="0" Stretch="Fill">
                                                                <Rectangle.Fill>
                                                                    <LinearGradientBrush EndPoint=".7,1" StartPoint=".7,0">
                                                                        <GradientStop Color="#1E2226" Offset="0.015"/>
                                                                        <GradientStop Color="#1E2226" Offset="0.375"/>
                                                                        <GradientStop Color="#1E2226" Offset="0.6"/>
                                                                        <GradientStop Color="#1E2226" Offset="1"/>
                                                                    </LinearGradientBrush>
                                                                </Rectangle.Fill>
                                                            </Rectangle>
                                                            <Grid HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}">
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition/>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                </Grid.ColumnDefinitions>
                                                                <ContentPresenter Content="{TemplateBinding Content}"/>
                                                                <Path x:Name="SortIcon" Grid.Column="1" Data="F1 M -5.215,6.099L 5.215,6.099L 0,0L -5.215,6.099 Z " Fill="#7FFFFFFF" HorizontalAlignment="Left" Margin="4,0,0,0" Opacity="0" RenderTransformOrigin=".5,.5" Stretch="Uniform" VerticalAlignment="Center" Width="8">
                                                                    <Path.RenderTransform>
                                                                        <ScaleTransform ScaleY=".9" ScaleX=".9"/>
                                                                    </Path.RenderTransform>
                                                                </Path>
                                                            </Grid>
                                                        </Grid>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="DropLocationIndicatorStyle">
                                    <Setter.Value>
                                        <Style TargetType="ContentControl">
                                            <Setter Property="Background" Value="#FF3F4346"/>
                                            <Setter Property="Width" Value="2"/>
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="ContentControl">
                                                        <Rectangle Fill="{TemplateBinding Background}" Height="{TemplateBinding Height}" Width="{TemplateBinding Width}"/>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="IsTabStop" Value="True"/>
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="sdk:DataGrid">
                                            <Grid>
                                                <VisualStateManager.VisualStateGroups>
                                                    <VisualStateGroup x:Name="CommonStates">
                                                        <VisualState x:Name="Normal"/>
                                                        <VisualState x:Name="Disabled">
                                                            <Storyboard>
                                                                <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="DisabledVisualElement"/>
                                                            </Storyboard>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                </VisualStateManager.VisualStateGroups>
                                                <Border BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="2">
                                                    <Grid x:Name="Root" Background="{TemplateBinding Background}">
                                                        <Grid.Resources>
                                                            <ControlTemplate x:Key="TopLeftHeaderTemplate" TargetType="sdk:DataGridColumnHeader">
                                                                <Grid x:Name="Root">
                                                                    <Grid.RowDefinitions>
                                                                        <RowDefinition/>
                                                                        <RowDefinition/>
                                                                        <RowDefinition Height="Auto"/>
                                                                    </Grid.RowDefinitions>
                                                                    <Border BorderBrush="#1E2226" BorderThickness="0,0,1,0" Background="#1E2226" Grid.RowSpan="2">
                                                                        <Rectangle Stretch="Fill" StrokeThickness="1">
                                                                            <Rectangle.Fill>
                                                                                <LinearGradientBrush EndPoint=".7,1" StartPoint=".7,0">
                                                                                    <GradientStop Color="#1E2226" Offset="0.015"/>
                                                                                    <GradientStop Color="#1E2226" Offset="0.375"/>
                                                                                    <GradientStop Color="#1E2226" Offset="0.6"/>
                                                                                    <GradientStop Color="#1E2226" Offset="1"/>
                                                                                </LinearGradientBrush>
                                                                            </Rectangle.Fill>
                                                                        </Rectangle>
                                                                    </Border>
                                                                    <Rectangle Fill="#1E2226" Height="1" Grid.RowSpan="2" StrokeThickness="1" VerticalAlignment="Bottom" Width="Auto"/>
                                                                </Grid>
                                                            </ControlTemplate>
                                                            <ControlTemplate x:Key="TopRightHeaderTemplate" TargetType="sdk:DataGridColumnHeader">
                                                                <Grid x:Name="RootElement">
                                                                    <Grid.RowDefinitions>
                                                                        <RowDefinition/>
                                                                        <RowDefinition/>
                                                                        <RowDefinition Height="Auto"/>
                                                                    </Grid.RowDefinitions>
                                                                    <Border BorderBrush="#484f58" BorderThickness="1,0,0,0" Background="#FF1F3B53" Grid.RowSpan="2">
                                                                        <!--垂直滚动条上的小块-->
                                                                        <Rectangle Stretch="Fill">
                                                                            <Rectangle.Fill>
                                                                                <LinearGradientBrush StartPoint="0,0.5" EndPoint="0,1.0">
                                                                                    <GradientStop Color="#4e5661" Offset="0.5"/>
                                                                                    <GradientStop Color="#414955" Offset="1.0"/>
                                                                                </LinearGradientBrush>
                                                                            </Rectangle.Fill>
                                                                        </Rectangle>
                                                                    </Border>
                                                                </Grid>
                                                            </ControlTemplate>
                                                        </Grid.Resources>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto"/>
                                                            <ColumnDefinition/>
                                                            <ColumnDefinition Width="Auto"/>
                                                        </Grid.ColumnDefinitions>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="Auto"/>
                                                            <RowDefinition/>
                                                            <RowDefinition Height="Auto"/>
                                                            <RowDefinition Height="Auto"/>
                                                        </Grid.RowDefinitions>
                                                        <sdk:DataGridColumnHeader x:Name="TopLeftCornerHeader" Template="{StaticResource TopLeftHeaderTemplate}" Width="22"/>
                                                        <sdk:DataGridColumnHeadersPresenter x:Name="ColumnHeadersPresenter" Grid.Column="1"/>
                                                        <sdk:DataGridColumnHeader x:Name="TopRightCornerHeader" Grid.Column="2" Template="{StaticResource TopRightHeaderTemplate}"/>
                                                        <Rectangle x:Name="ColumnHeadersAndRowsSeparator" Grid.ColumnSpan="3" Fill="#1E2226" Height="1" StrokeThickness="1" VerticalAlignment="Bottom" Width="Auto"/>
                                                        <sdk:DataGridRowsPresenter x:Name="RowsPresenter" Grid.ColumnSpan="2" Grid.Row="1"/>
                                                        <Rectangle x:Name="BottomRightCorner" Grid.Column="2" Fill="#FFE9EEF4" Grid.Row="2"/>
                                                        <Rectangle x:Name="BottomLeftCorner" Grid.ColumnSpan="2" Fill="#FFE9EEF4" Grid.Row="2"/>
                                                        <ScrollBar x:Name="VerticalScrollbar" Grid.Column="2" Margin="0,-1,-1,-1" Orientation="Vertical" Grid.Row="1" Width="18" 
                                           Style="{StaticResource SelfScrollBarStyle2}"/>
                                                        <Grid Grid.Column="1" Grid.Row="2">
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="Auto"/>
                                                                <ColumnDefinition/>
                                                            </Grid.ColumnDefinitions>
                                                            <Rectangle x:Name="FrozenColumnScrollBarSpacer"/>
                                                            <ScrollBar x:Name="HorizontalScrollbar" Grid.Column="1" Height="18" Margin="-1,0,-1,-1" Orientation="Horizontal"/>
                                                        </Grid>
                                                        <sdk:ValidationSummary x:Name="ValidationSummary" Grid.ColumnSpan="3" MaxHeight="90" Grid.Row="3"/>
                                                    </Grid>
                                                </Border>
                                                <Border x:Name="DisabledVisualElement" Background="#8C1c1f23" CornerRadius="2" HorizontalAlignment="Stretch" Height="Auto" IsHitTestVisible="False" Opacity="0" VerticalAlignment="Stretch" Width="Auto"/>
                                            </Grid>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>


                        </Grid.Resources>

                        <!--报警信息-->
                        <Grid Grid.Row="0" Style="{StaticResource SystemInfoShowGridStyle}">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <Grid Style="{StaticResource SystemInfoShowGridStyle}" Grid.Row="0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="5"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="10"/>
                                </Grid.ColumnDefinitions>

                                <Image Grid.Column="1" Style="{StaticResource ThreeTitleImageStyle}"/>
                                <TextBlock HorizontalAlignment="Left" TextWrapping="Wrap" 
                                                Text="{Binding [AlertInfo],Source={StaticResource SR}}"
                                                VerticalAlignment="Center" Grid.Column="2" Margin="0,0,0,0" 
                                                FontSize="12"
                                                FontWeight="Bold"
                                                 Style="{StaticResource TextBlockLightStyle}"/>

                            </Grid>

                            <Grid Grid.Row="1" x:Name="DetailInfo2" Style="{StaticResource SystemInfoShowGridStyle}">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="10"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="15"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="1.2*"/>
                                    <ColumnDefinition Width="2*"/>
                                </Grid.ColumnDefinitions>

                                <TextBlock Grid.Row="1" Grid.Column="0" 
                                           Text="{Binding [ALARM_VehicleId],Source={StaticResource SR}}"
                                           VerticalAlignment="Center" 
                                           TextAlignment="Right"  HorizontalAlignment="Right"
                                           Margin="0,0,10,3" Style="{StaticResource TextBlockLightStyle}"/>

                                <TextBlock HorizontalAlignment="Left" Grid.Row="1" Grid.Column="1"
                                           Text="{Binding SelectedAlarmInfo.VehicleId, Mode=TwoWay}"
                                           VerticalAlignment="Center"
                                           Margin="10,0,0,3"
                                           ToolTipService.ToolTip="{Binding SelectedAlarmInfo.VehicleId}" Style="{StaticResource TextBlockLightStyle}"/>


                                <TextBlock Text="{Binding [ALARM_AlarmTime],Source={StaticResource SR}}" 
                                           Grid.Column="0" Grid.Row="2" 
                                           VerticalAlignment="Center" 
                                           HorizontalAlignment="Right" Margin="0,3,10,3"  Style="{StaticResource TextBlockLightStyle}"/>

                                <TextBlock  Text="{Binding AlarmTime, Mode=OneWay}"  
                                            HorizontalAlignment="Left" 
                                            VerticalAlignment="Center" Grid.Column="1" Grid.Row="2" 
                                            Margin="10,3,0,3"
                                            ToolTipService.ToolTip="{Binding AlarmTime}" Style="{StaticResource TextBlockLightStyle}"/>

                                <TextBlock  Grid.Row="3" Grid.Column="0" 
                                                Text="{Binding [AdministrativeArea],Source={StaticResource SR}}"
                                                VerticalAlignment="Center" TextAlignment="Right" Margin="0,3,10,3"  Style="{StaticResource TextBlockLightStyle}"/>

                                <TextBlock HorizontalAlignment="Left" 
                                                   Grid.Row="3" Grid.Column="1" 
                                                   Text="{Binding DistrictCodeDescribe, Mode=TwoWay}" VerticalAlignment="Center"
                                                   Margin="10,3,0,3"
                                           ToolTipService.ToolTip="{Binding DistrictCodeDescribe}" Style="{StaticResource TextBlockLightStyle}"/>

                                <TextBlock  Grid.Row="4" Grid.Column="0" 
                                            Text="{Binding [SafeSuitDeviceNumber],Source={StaticResource SR}}" 
                                            VerticalAlignment="Center" TextAlignment="Right"
                                            Margin="0,3,10,3" HorizontalAlignment="Right"  Style="{StaticResource TextBlockLightStyle}"/>

                                <TextBlock HorizontalAlignment="Left" Grid.Row="4" Grid.Column="1" 
                                           Text="{Binding SelectedAlarmInfo.SuiteID}"
                                           VerticalAlignment="Center"
                                           Margin="10,3,0,3"
                                           ToolTipService.ToolTip="{Binding SelectedAlarmInfo.SuiteID}" Style="{StaticResource TextBlockLightStyle}"/>

                                <TextBlock  Grid.Row="5" Grid.Column="0" 
                                                Text="{Binding [Where],Source={StaticResource SR}}"
                                                VerticalAlignment="Center" TextAlignment="Right" Margin="0,3,10,3"  Style="{StaticResource TextBlockLightStyle}"/>

                                <TextBlock HorizontalAlignment="Left" 
                                               Grid.Row="5" Grid.Column="1" 
                                               Text="{Binding Locate, Mode=TwoWay}" 
                                               VerticalAlignment="Center"
                                               Margin="10,3,0,3" Style="{StaticResource TextBlockLightStyle}"/>

                                <TextBlock  Grid.Row="6" Grid.Column="0" 
                                            Text="{Binding [ALARM_Speed],Source={StaticResource SR}}" 
                                            VerticalAlignment="Center" TextAlignment="Right"  Margin="0,3,10,3" HorizontalAlignment="Right"  Style="{StaticResource TextBlockLightStyle}"/>


                                <TextBlock HorizontalAlignment="Left" 
                                           Grid.Row="6" Grid.Column="1"
                                           Text="{Binding SelectedAlarmInfo.Speed,Converter={StaticResource SpeedAndDir}, Mode=TwoWay}" 
                                           VerticalAlignment="Center"
                                           Margin="10,3,0,3" Style="{StaticResource TextBlockLightStyle}"/>

                                <TextBlock   Grid.Row="7" Grid.Column="0" 
                                             Text="{Binding [ALARM_DIR],Source={StaticResource SR}}"
                                             VerticalAlignment="Center" TextAlignment="Right" Margin="0,3,10,3" HorizontalAlignment="Right"  Style="{StaticResource TextBlockLightStyle}"/>

                                <TextBlock HorizontalAlignment="Left"  
                                           Text="{Binding SelectedAlarmInfo.Direction,Converter={StaticResource SpeedAndDir}, Mode=TwoWay}" 
                                           VerticalAlignment="Center" Grid.Row="7" Grid.Column="1"
                                           Margin="10,3,0,3" Style="{StaticResource TextBlockLightStyle}"/>

                                <TextBlock   Grid.Row="8" 
                                             Grid.Column="0" 
                                             Text="{Binding [AlarmSource],Source={StaticResource SR}}"
                                             VerticalAlignment="Center" 
                                             TextAlignment="Right" 
                                             Margin="0,3,10,3" HorizontalAlignment="Right"  Style="{StaticResource TextBlockLightStyle}"/>

       
                                <Image Source="{Binding AlarmSource,Converter={StaticResource AlarmSourceToImageConverter}}"
                                       Grid.Row="8"
                                       Grid.Column="1"
                                       Margin="10,3,0,3"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Left"
                                       Stretch="None"
                                       Height="16"
                                       Width="16"/>

                                <TextBlock  Grid.Row="9" Grid.Column="0" Visibility="{Binding AlarmSource, Converter={StaticResource AlarmSourceToVisibilityConverter}}"
                                                Text="{Binding [CellPhone],Source={StaticResource SR}}"
                                                VerticalAlignment="Center" TextAlignment="Right" Margin="0,3,10,3"  Style="{StaticResource TextBlockLightStyle}"/>

                                <TextBlock HorizontalAlignment="Left" Visibility="{Binding AlarmSource, Converter={StaticResource AlarmSourceToVisibilityConverter}}"
                                               Grid.Row="9" Grid.Column="1" 
                                               Text="{Binding AlarmMobile}"
                                               VerticalAlignment="Center"
                                               Margin="10,3,0,3" Style="{StaticResource TextBlockLightStyle}"/>
                                <TextBlock  Grid.Row="10" Grid.Column="0" Visibility="{Binding AlarmSource, Converter={StaticResource AlarmSourceToVisibilityConverter}}"
                                                Text="{Binding [FoundRegistry_Keyword],Source={StaticResource SR}}"
                                                VerticalAlignment="Center" TextAlignment="Right" Margin="0,3,10,3"  Style="{StaticResource TextBlockLightStyle}"/>

                                <TextBlock HorizontalAlignment="Left" Visibility="{Binding AlarmSource, Converter={StaticResource AlarmSourceToVisibilityConverter}}"
                                               Grid.Row="10" Grid.Column="1" 
                                               Text="{Binding Keyword}"
                                               VerticalAlignment="Center"
                                               Margin="10,3,0,3" Style="{StaticResource TextBlockLightStyle}"/>
                                <TextBlock  Grid.Row="11" Grid.Column="0" Visibility="{Binding AlarmSource, Converter={StaticResource AlarmSourceToVisibilityConverter}}"
                                                Text="{Binding [BASEINFO_Content],Source={StaticResource SR}}"
                                                VerticalAlignment="Center" TextAlignment="Right" Margin="0,3,10,3"  Style="{StaticResource TextBlockLightStyle}"/>

                                <TextBlock HorizontalAlignment="Left" Visibility="{Binding AlarmSource, Converter={StaticResource AlarmSourceToVisibilityConverter}}"
                                               Grid.Row="11" Grid.Column="1" 
                                               Text="{Binding AlarmContent}"
                                               VerticalAlignment="Center"
                                               Margin="10,3,0,3" Style="{StaticResource TextBlockLightStyle}"/>
                            </Grid>

                        </Grid>

                        <Grid Style="{StaticResource SystemInfoShowGridStyle}" Grid.Row="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="5"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="25"/>
                                <ColumnDefinition Width="10"/>
                            </Grid.ColumnDefinitions>

                            <Image Grid.Column="1" Style="{StaticResource ThreeTitleImageStyle}"/>
                            <TextBlock HorizontalAlignment="Left" TextWrapping="Wrap" 
                                                Text="{Binding [DriverInfo],Source={StaticResource SR}}" 
                                                VerticalAlignment="Center" Grid.Column="2" Margin="0,0,0,0" 
                                                FontSize="12"
                                                FontWeight="Bold"
                                                 Style="{StaticResource TextBlockLightStyle}"/>

                        </Grid>

                        <sdk:DataGrid Grid.Row="2"  Style="{StaticResource DataGridStyleRxx2}"
                                      ItemsSource="{Binding ChauffeurList}"
                                      GridLinesVisibility="None"
                                      BorderBrush="#1c1F23"
                                      Background="#1c1f23"
                                      RowBackground="#1c1f23"
                                      CanUserResizeColumns="False"
                                      Margin="0,7,0,10">

                            <sdk:DataGrid.Columns>


                                <sdk:DataGridTemplateColumn  Width="1.2*" HeaderStyle="{StaticResource NoHeaderColumnHeaderStyle}">
                                    <sdk:DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock  Text="{Binding Name}" 
                                                        Margin="0,3,10,3" 
                                                        VerticalAlignment="Center"   
                                                        HorizontalAlignment="Right"  
                                                        TextAlignment="Right"  Height="Auto"
                                                        ToolTipService.ToolTip="{Binding Name}" Style="{StaticResource TextBlockLightStyle}"/>
                                        </DataTemplate>
                                    </sdk:DataGridTemplateColumn.CellTemplate>
                                </sdk:DataGridTemplateColumn>

                                <sdk:DataGridTemplateColumn  Width="2*" HeaderStyle="{StaticResource NoHeaderColumnHeaderStyle}">
                                    <sdk:DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock  Text="{Binding Phone}" 
                                                        Margin="10,3,0,3" 
                                                        VerticalAlignment="Center"   
                                                        HorizontalAlignment="Left"  
                                                        TextAlignment="Left"  Height="Auto"
                                                        ToolTipService.ToolTip="{Binding Phone}" Style="{StaticResource TextBlockLightStyle}"/>
                                        </DataTemplate>
                                    </sdk:DataGridTemplateColumn.CellTemplate>
                                </sdk:DataGridTemplateColumn>

                            </sdk:DataGrid.Columns>
                        </sdk:DataGrid>

                        <!--处置信息(接警信息)-->
                        <Grid Grid.Row="3" Style="{StaticResource SystemInfoShowGridStyle}" Visibility="{Binding AppealVisible}" >
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <Grid Style="{StaticResource SystemInfoShowGridStyle}" Grid.Row="0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="5"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="10"/>
                                </Grid.ColumnDefinitions>

                                <Image Grid.Column="1" Style="{StaticResource ThreeTitleImageStyle}"/>
                                <TextBlock HorizontalAlignment="Left" TextWrapping="Wrap" 
                                                Text="{Binding [DisposeInfo],Source={StaticResource SR}}" 
                                                VerticalAlignment="Center" Grid.Column="2" Margin="0,0,0,0" 
                                                FontSize="12"
                                                FontWeight="Bold"
                                                 Style="{StaticResource TextBlockLightStyle}"/>

                            </Grid>

                            <Grid Style="{StaticResource SystemInfoShowGridStyle}" Grid.Row="1">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="10"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="15"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="1.2*"/>
                                    <ColumnDefinition Width="2*"/>
                                </Grid.ColumnDefinitions>
                              
                                <TextBlock   Text="{Binding [ALERT_HandlePerson],Source={StaticResource SR}}" 
                                             Grid.Column="0" Grid.Row="1" VerticalAlignment="Center" 
                                             HorizontalAlignment="Right" Margin="0,0,10,3"  Style="{StaticResource TextBlockLightStyle}"/>

                                <TextBlock Text="{Binding ApealDisposeStaff,Mode=OneWay}"  
                                           HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Column="1" Grid.Row="1"
                                           Margin="10,0,0,3"
                                           ToolTipService.ToolTip="{Binding ApealDisposeStaff}" Style="{StaticResource TextBlockLightStyle}"/>


                                <TextBlock Text="{Binding [ALARM_TrealTime],Source={StaticResource SR}}"
                                           Grid.Column="0" Grid.Row="2" VerticalAlignment="Center" HorizontalAlignment="Right"
                                           Margin="0,3,10,3"  Style="{StaticResource TextBlockLightStyle}"/>

                                <TextBlock Text="{Binding ApealDisposeTime,Mode=OneWay}"   
                                               HorizontalAlignment="Left" VerticalAlignment="Center"  Grid.Column="1" Grid.Row="2"
                                           Margin="10,3,0,3"
                                           ToolTipService.ToolTip="{Binding ApealDisposeTime}" Style="{StaticResource TextBlockLightStyle}"/>


                                <TextBlock Text="{Binding [AlarmPanBie],Source={StaticResource SR}}"
                                           Grid.Column="0" Grid.Row="3" VerticalAlignment="Center"
                                           HorizontalAlignment="Right" Margin="0,3,10,3"  Style="{StaticResource TextBlockLightStyle}"/>

                                <TextBlock Text="{Binding ApealAlarmFlag, Converter={StaticResource TrueOrFalse}, Mode=OneWay}"  
                                               HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Column="1" Grid.Row="3" 
                                           Margin="10,3,0,3" Style="{StaticResource TextBlockLightStyle}"/>

                                <TextBlock  Grid.Row="4" Grid.Column="0" 
                                                Text="{Binding [DisposeStatus],Source={StaticResource SR}}"
                                                VerticalAlignment="Center" TextAlignment="Right" Margin="0,3,10,3"  Style="{StaticResource TextBlockLightStyle}"/>

                                <TextBlock HorizontalAlignment="Left" 
                                                   Grid.Row="4" Grid.Column="1" 
                                                   Text="{Binding ApealStatus, Mode=TwoWay}"
                                           VerticalAlignment="Center"
                                                   Margin="10,3,0,3" Style="{StaticResource TextBlockLightStyle}"/>


                                <TextBlock   Text="{Binding [ALARM_Note],Source={StaticResource SR}}"
                                             Grid.Column="0" Grid.Row="5"  VerticalAlignment="Center" HorizontalAlignment="Right" Margin="0,3,10,3" 
                                             Visibility="{Binding IsAlarmNoteVisibility}" Style="{StaticResource TextBlockLightStyle}"/>

                                <TextBlock Text="{Binding ApealContent, Mode=OneWay}" 
                                           TextWrapping="Wrap" Grid.Column="1" Grid.Row="5"
                                           Visibility="{Binding IsAlarmNoteVisibility}"
                                           HorizontalAlignment="Left"
                                           VerticalAlignment="Center"
                                           Margin="10,3,0,3"
                                           ToolTipService.ToolTip="{Binding ApealContent}" Style="{StaticResource TextBlockLightStyle}"/>

                            </Grid>

                        </Grid>

                        <!--反馈信息（处置信息）-->
                        <Grid Grid.Row="4" Style="{StaticResource SystemInfoShowGridStyle}" Visibility="{Binding DisposeVisible}">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <Grid Style="{StaticResource SystemInfoShowGridStyle}" Grid.Row="0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="5"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="10"/>
                                </Grid.ColumnDefinitions>

                                <Image Grid.Column="1" Style="{StaticResource ThreeTitleImageStyle}"/>
                                <TextBlock HorizontalAlignment="Left" TextWrapping="Wrap" 
                                                Text="{Binding [AnswerInfo],Source={StaticResource SR}}"
                                                VerticalAlignment="Center" Grid.Column="2" Margin="0,0,0,0" 
                                                FontSize="12"
                                                FontWeight="Bold"
                                                Style="{StaticResource TextBlockLightStyle}"/>

                            </Grid>

                            <Grid Style="{StaticResource SystemInfoShowGridStyle}" Grid.Row="1">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="10"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="15"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="1.2*" />
                                    <ColumnDefinition Width="2*"/>
                                </Grid.ColumnDefinitions>

                                <TextBlock Text="{Binding [ALARM_HandlePerson],Source={StaticResource SR}}" 
                                           VerticalAlignment="Center" HorizontalAlignment="Right" Style="{StaticResource TextBlockLightStyle}"
                                           Grid.Row="1" Grid.Column="0" Margin="0,0,10,3"/>


                                <TextBlock Text="{Binding TransferDisposeStaff, Mode=OneWay}" 
                                           VerticalAlignment="Center" 
                                           HorizontalAlignment="Left" Grid.Row="1" Grid.Column="1"
                                           Margin="10,3,0,3" Style="{StaticResource TextBlockLightStyle}"
                                           ToolTipService.ToolTip="{Binding TransferDisposeStaff}"/>

                                <TextBlock Text="{Binding [AnserTime],Source={StaticResource SR}}" 
                                           VerticalAlignment="Center" HorizontalAlignment="Right" Style="{StaticResource TextBlockLightStyle}"
                                           Grid.Row="2" Grid.Column="0" Margin="0,3,10,3" />


                                <TextBlock Text="{Binding TransferDisposeTime, Mode=OneWay}" Style="{StaticResource TextBlockLightStyle}"
                                           VerticalAlignment="Center" Grid.Row="2" Grid.Column="1"
                                           Margin="10,3,0,3" 
                                           ToolTipService.ToolTip="{Binding TransferDisposeTime}"/>


                                <TextBlock  Grid.Row="3" Grid.Column="0" Style="{StaticResource TextBlockLightStyle}"
                                                Text="{Binding [DisposeStatus],Source={StaticResource SR}}"
                                                VerticalAlignment="Center" TextAlignment="Right" Margin="0,3,10,3" />

                                <TextBlock HorizontalAlignment="Left" Style="{StaticResource TextBlockLightStyle}"
                                                   Grid.Row="3" Grid.Column="1" 
                                                   Text="{Binding DisposeStatus, Converter={StaticResource ApealDisposeConverter},Mode=TwoWay}" VerticalAlignment="Center"
                                                   Margin="10,3,0,3"/>

                                <TextBlock Text="{Binding [Note],Source={StaticResource SR}}" 
                                           VerticalAlignment="Center" Style="{StaticResource TextBlockLightStyle}"
                                           HorizontalAlignment="Right" Grid.Row="4" Grid.Column="0" Margin="0,3,10,3"
                                           Visibility="{Binding IsAlarmAnswerNoteVisibility}"/>

                                <TextBlock Grid.Row="4" 
                                           Grid.Column="1"  Style="{StaticResource TextBlockLightStyle}"
                                           Text="{Binding TransferDisposeContent, Mode=OneWay}"  
                                           TextWrapping="Wrap"   VerticalAlignment="Center"
                                           HorizontalAlignment="Left"
                                           Margin="10,3,0,3"
                                           Visibility="{Binding IsAlarmAnswerNoteVisibility}"
                                           ToolTipService.ToolTip="{Binding TransferDisposeContent}"/>
                            </Grid>
                        </Grid>
                    </Grid>
                </ScrollViewer>

                <!--告警历史查询-->
                <ScrollViewer Grid.Row="1" Style="{StaticResource ScrollViewerRightStyle}" MinHeight="300"
                              HorizontalAlignment="Stretch"
                              VerticalAlignment="Stretch"
                                  x:Name="ShowInfoScrollViewer" Visibility="{Binding AlertVisiblity}" >
                    <Grid Style="{StaticResource SystemInfoShowGridStyle}" Visibility="{Binding AlertVisiblity}" d:IsHidden="False">


                        <Grid.Resources>

                            <Style TargetType="sdk:DataGridColumnHeader" x:Key="NoHeaderColumnHeaderStyle">
                                <Setter Property="HorizontalAlignment" Value="Stretch"/>
                                <Setter Property="VerticalAlignment" Value="Center"/>
                                <Setter Property="BorderThickness" Value="0"></Setter>
                                <Setter Property="VerticalContentAlignment" Value="Stretch"/>
                                <Setter Property="Height" Value="0"/>
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="sdk:DataGridColumnHeader">
                                            <Border BorderBrush="#484f58"
                            BorderThickness="0"
                            x:Name="ColumnHeaderBorder">
                                                <Border.Background>
                                                    <LinearGradientBrush StartPoint="0,0.5" EndPoint="0,1.0">
                                                        <GradientStop Color="#4e5661" Offset="0.5"/>
                                                        <GradientStop Color="#414955" Offset="1.0"/>
                                                    </LinearGradientBrush>
                                                </Border.Background>

                                                <StackPanel Background="{TemplateBinding Background}"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center">
                                                    <ContentPresenter>
                                                        <ContentPresenter.Content>
                                                            <TextBlock Text="{TemplateBinding Content}"
                                                Foreground="#e3dfdf"
                                                HorizontalAlignment="Stretch"
                                                VerticalAlignment="Stretch"
                                                FontSize="12"
                                               FontWeight="Bold"/>
                                                        </ContentPresenter.Content>
                                                    </ContentPresenter>
                                                </StackPanel>
                                            </Border>

                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>

                            </Style>

                            <!--DataGrid控件行样式-->
                            <Style TargetType="sdk:DataGridRow">

                                <Setter Property="IsTabStop" Value="False" />
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="sdk:DataGridRow">
                                            <sdk:DataGridFrozenGrid Name="Root">
                                                <VisualStateManager.VisualStateGroups>
                                                    <VisualStateGroup x:Name="CommonStates">
                                                        <VisualState x:Name="Normal">
                                                            <Storyboard>
                                                                <DoubleAnimation Storyboard.TargetName="BackgroundRectangle" Storyboard.TargetProperty="Opacity" Duration="0" To="0"/>
                                                            </Storyboard>
                                                        </VisualState>

                                                        <VisualState x:Name="NormalAlternatingRow">
                                                            <Storyboard>
                                                                <DoubleAnimation Storyboard.TargetName="BackgroundRectangle" 
                                                         Storyboard.TargetProperty="Opacity" Duration="0" To="0"/>
                                                            </Storyboard>
                                                        </VisualState>
                                                        <!--设置鼠标滑过的颜色-->
                                                        <VisualState x:Name="MouseOver">
                                                            <Storyboard>
                                                                <DoubleAnimation Storyboard.TargetName="BackgroundRectangle" 
                                                         Storyboard.TargetProperty="Opacity" Duration="0" To=".5"/>

                                                                <ColorAnimation Duration="0" Storyboard.TargetName="BackgroundRectangle" 
                                                        Storyboard.TargetProperty="(Fill).Color" To="#1c1f23"/>
                                                            </Storyboard>
                                                        </VisualState>
                                                        <VisualState x:Name="NormalSelected">
                                                            <Storyboard>
                                                                <DoubleAnimation Storyboard.TargetName="BackgroundRectangle" 
                                                         Storyboard.TargetProperty="Opacity" Duration="0" To="1"/>
                                                                <ColorAnimation Duration="0" Storyboard.TargetName="BackgroundRectangle" 
                                                        Storyboard.TargetProperty="(Fill).Color" To="#1c1f23"/>
                                                            </Storyboard>
                                                        </VisualState>
                                                        <VisualState x:Name="MouseOverSelected">
                                                            <Storyboard>
                                                                <DoubleAnimation Storyboard.TargetName="BackgroundRectangle" 
                                                         Storyboard.TargetProperty="Opacity" Duration="0" To="1"/>
                                                            </Storyboard>
                                                        </VisualState>
                                                        <VisualState x:Name="UnfocusedSelected">
                                                            <Storyboard>
                                                                <DoubleAnimation Storyboard.TargetName="BackgroundRectangle" 
                                                         Storyboard.TargetProperty="Opacity" Duration="0" To="1"/>

                                                                <ColorAnimation Duration="0" Storyboard.TargetName="BackgroundRectangle" 
                                                        Storyboard.TargetProperty="(Fill).Color" To="#1c1f23"/>
                                                            </Storyboard>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                    <VisualStateGroup x:Name="ValidationStates">
                                                        <VisualState x:Name="Valid"/>
                                                        <VisualState x:Name="Invalid">
                                                            <Storyboard>
                                                                <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="BackgroundRectangle" Storyboard.TargetProperty="Visibility">
                                                                    <DiscreteObjectKeyFrame KeyTime="0" Value="Collapsed"/>
                                                                </ObjectAnimationUsingKeyFrames>
                                                                <DoubleAnimation Storyboard.TargetName="InvalidVisualElement" Storyboard.TargetProperty="Opacity" Duration="0" To="1"/>
                                                            </Storyboard>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                </VisualStateManager.VisualStateGroups>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition/>
                                                    <!--<RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>-->
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto" />
                                                    <ColumnDefinition/>
                                                </Grid.ColumnDefinitions>

                                                <Grid.Resources>
                                                    <Storyboard x:Key="DetailsVisibleTransition">
                                                        <DoubleAnimation Storyboard.TargetName="DetailsPresenter" Storyboard.TargetProperty="ContentHeight" Duration="00:00:0.1" />
                                                    </Storyboard>
                                                </Grid.Resources>

                                                <Rectangle x:Name="BackgroundRectangle" Grid.RowSpan="2" Grid.ColumnSpan="2" Opacity="0" Fill="#1c1f23"/>
                                                <Rectangle x:Name="InvalidVisualElement" Grid.RowSpan="2" Grid.ColumnSpan="2" Opacity="0" Fill="#1c1f23"/>
                                                <sdk:DataGridRowHeader Grid.RowSpan="3" Name="RowHeader" sdk:DataGridFrozenGrid.IsFrozen="True" />
                                                <sdk:DataGridCellsPresenter Grid.Column="1" Name="CellsPresenter" sdk:DataGridFrozenGrid.IsFrozen="True" />
                                                <sdk:DataGridDetailsPresenter Grid.Row="1" Grid.Column="1" Name="DetailsPresenter" />
                                                <Rectangle Grid.Row="2" Grid.Column="1" Name="BottomGridLine" HorizontalAlignment="Stretch" Height="1" />
                                            </sdk:DataGridFrozenGrid>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>

                            </Style>


                            <Style TargetType="sdk:DataGridCell">
                                <Setter Property="Background" Value="#272c32" />
                                <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                <Setter Property="VerticalContentAlignment" Value="Center" />
                                <Setter Property="IsTabStop" Value="False" />
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="sdk:DataGridCell">
                                            <Grid Name="Root" Background="{TemplateBinding Background}">
                                                <VisualStateManager.VisualStateGroups>
                                                    <VisualStateGroup x:Name="CurrentStates">
                                                        <VisualState x:Name="Regular" />
                                                        <VisualState x:Name="Current">
                                                            <Storyboard>
                                                                <DoubleAnimation Storyboard.TargetName="FocusVisual" Storyboard.TargetProperty="Opacity" To="1" Duration="0" />
                                                                <ColorAnimation Storyboard.TargetName="FocusVisual"
                                                        Storyboard.TargetProperty="(Shape.Fill).(SolidColorBrush.Color)"
                                                        To="#0099cb" Duration="0"/>
                                                                <!--单元格的边框-->
                                                                <ColorAnimation Storyboard.TargetName="FocusVisual"
                                                        Storyboard.TargetProperty="(Shape.Stroke).(SolidColorBrush.Color)"
                                                        To="#0099cb" Duration="0"/>
                                                            </Storyboard>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                    <VisualStateGroup x:Name="ValidationStates">
                                                        <VisualState x:Name="Valid"/>
                                                        <VisualState x:Name="Invalid">
                                                            <Storyboard>
                                                                <DoubleAnimation Storyboard.TargetName="InvalidVisualElement" Storyboard.TargetProperty="Opacity" Duration="0" To="1"/>
                                                                <ColorAnimation Storyboard.TargetName="FocusVisual" Storyboard.TargetProperty="(Fill).Color" Duration="0" To="#ffffff"/>
                                                            </Storyboard>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                </VisualStateManager.VisualStateGroups>

                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition />
                                                    <ColumnDefinition Width="Auto" />
                                                </Grid.ColumnDefinitions>

                                                <Rectangle Name="FocusVisual" Stroke="#ffffff" StrokeThickness="1" Fill="#1c1f23" HorizontalAlignment="Stretch" 
                               VerticalAlignment="Stretch" IsHitTestVisible="false" Opacity="0" />

                                                <ContentPresenter
                                    Content="{TemplateBinding Content}"
                                    ContentTemplate="{TemplateBinding ContentTemplate}"
                                    HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                    VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                    Margin="{TemplateBinding Padding}" />

                                                <Rectangle x:Name="InvalidVisualElement" IsHitTestVisible="False" StrokeThickness="1" Stroke="#ffffff" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Opacity="0"/>

                                                <Rectangle Name="RightGridLine" Grid.Column="1" VerticalAlignment="Stretch" Width="1" />
                                            </Grid>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>

                            <Style x:Key="DataGridStyleRxx2" TargetType="sdk:DataGrid">
                                <Setter Property="HorizontalGridLinesBrush" Value="#272c32"/>
                                <Setter Property="VerticalGridLinesBrush" Value="#272c32"/>
                                <Setter Property="HorizontalScrollBarVisibility" Value="Hidden"/>
                                <Setter Property="VerticalScrollBarVisibility" Value="Auto"/>
                                <Setter Property="HorizontalAlignment" Value="Stretch"/>
                                <Setter Property ="VerticalAlignment" Value="Stretch"/>
                                <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                <Setter Property="VerticalContentAlignment" Value="Stretch"/>
                                <Setter Property="Background" Value="#1e2226"/>
                                <Setter Property="AutoGenerateColumns" Value="False"/>
                                <Setter Property="IsReadOnly" Value="True"/>
                                <Setter Property="GridLinesVisibility" Value="All"/>
                                <Setter Property="RowBackground" Value="#272c32"/>
                                <Setter Property="BorderThickness" Value="0"/>
                                <Setter Property="AlternatingRowBackground" Value="#1e2226"/>
                                <Setter Property="HeadersVisibility" Value="Column"/>
                                <Setter Property="SelectionMode" Value="Extended"/>
                                <Setter Property="CanUserReorderColumns" Value="True"/>
                                <Setter Property="CanUserResizeColumns" Value="True"/>
                                <Setter Property="CanUserSortColumns" Value="True"/>
                                <Setter Property="RowDetailsVisibilityMode" Value="VisibleWhenSelected"/>
                                <Setter Property="BorderBrush">
                                    <Setter.Value>
                                        <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                            <GradientStop Color="#1e2226" Offset="0"/>
                                            <GradientStop Color="#1e2226" Offset="0.375"/>
                                            <GradientStop Color="#1e2226" Offset="0.375"/>
                                            <GradientStop Color="#1e2226" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="DragIndicatorStyle">
                                    <Setter.Value>
                                        <Style TargetType="ContentControl">
                                            <Setter Property="Foreground" Value="#7FFFFFFF"/>
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="ContentControl">
                                                        <Grid>
                                                            <VisualStateManager.VisualStateGroups>
                                                                <VisualStateGroup x:Name="SortStates">
                                                                    <VisualState x:Name="Unsorted"/>
                                                                    <VisualState x:Name="SortAscending">
                                                                        <Storyboard>
                                                                            <DoubleAnimation Duration="0" To="1.0" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="SortIcon"/>
                                                                        </Storyboard>
                                                                    </VisualState>
                                                                    <VisualState x:Name="SortDescending">
                                                                        <Storyboard>
                                                                            <DoubleAnimation Duration="0" To="1.0" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="SortIcon"/>
                                                                            <DoubleAnimation Duration="0" To="-.9" Storyboard.TargetProperty="(RenderTransform).ScaleY" Storyboard.TargetName="SortIcon"/>
                                                                        </Storyboard>
                                                                    </VisualState>
                                                                </VisualStateGroup>
                                                            </VisualStateManager.VisualStateGroups>
                                                            <Rectangle x:Name="BackgroundRectangle" Grid.ColumnSpan="2" Fill="#1e2226" Stretch="Fill"/>
                                                            <Rectangle x:Name="BackgroundGradient" Grid.ColumnSpan="2" Opacity="0" Stretch="Fill">
                                                                <Rectangle.Fill>
                                                                    <LinearGradientBrush EndPoint=".7,1" StartPoint=".7,0">
                                                                        <GradientStop Color="#1e2226" Offset="0.015"/>
                                                                        <GradientStop Color="#1e2226" Offset="0.375"/>
                                                                        <GradientStop Color="#1e2226" Offset="0.6"/>
                                                                        <GradientStop Color="#1e2226" Offset="1"/>
                                                                    </LinearGradientBrush>
                                                                </Rectangle.Fill>
                                                            </Rectangle>
                                                            <Grid HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}">
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition/>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                </Grid.ColumnDefinitions>
                                                                <ContentPresenter Content="{TemplateBinding Content}"/>
                                                                <Path x:Name="SortIcon" Grid.Column="1" Data="F1 M -5.215,6.099L 5.215,6.099L 0,0L -5.215,6.099 Z " Fill="#7FFFFFFF" HorizontalAlignment="Left" Margin="4,0,0,0" Opacity="0" RenderTransformOrigin=".5,.5" Stretch="Uniform" VerticalAlignment="Center" Width="8">
                                                                    <Path.RenderTransform>
                                                                        <ScaleTransform ScaleY=".9" ScaleX=".9"/>
                                                                    </Path.RenderTransform>
                                                                </Path>
                                                            </Grid>
                                                        </Grid>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="DropLocationIndicatorStyle">
                                    <Setter.Value>
                                        <Style TargetType="ContentControl">
                                            <Setter Property="Background" Value="#FF3F4346"/>
                                            <Setter Property="Width" Value="2"/>
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="ContentControl">
                                                        <Rectangle Fill="{TemplateBinding Background}" Height="{TemplateBinding Height}" Width="{TemplateBinding Width}"/>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="IsTabStop" Value="True"/>
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="sdk:DataGrid">
                                            <Grid>
                                                <VisualStateManager.VisualStateGroups>
                                                    <VisualStateGroup x:Name="CommonStates">
                                                        <VisualState x:Name="Normal"/>
                                                        <VisualState x:Name="Disabled">
                                                            <Storyboard>
                                                                <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="DisabledVisualElement"/>
                                                            </Storyboard>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                </VisualStateManager.VisualStateGroups>
                                                <Border BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="2">
                                                    <Grid x:Name="Root" Background="{TemplateBinding Background}">
                                                        <Grid.Resources>
                                                            <ControlTemplate x:Key="TopLeftHeaderTemplate" TargetType="sdk:DataGridColumnHeader">
                                                                <Grid x:Name="Root">
                                                                    <Grid.RowDefinitions>
                                                                        <RowDefinition/>
                                                                        <RowDefinition/>
                                                                        <RowDefinition Height="Auto"/>
                                                                    </Grid.RowDefinitions>
                                                                    <Border BorderBrush="#1e2226" BorderThickness="0,0,1,0" Background="#1c1f23" Grid.RowSpan="2">
                                                                        <Rectangle Stretch="Fill" StrokeThickness="1">
                                                                            <Rectangle.Fill>
                                                                                <LinearGradientBrush EndPoint=".7,1" StartPoint=".7,0">
                                                                                    <GradientStop Color="#1e2226" Offset="0.015"/>
                                                                                    <GradientStop Color="#1e2226" Offset="0.375"/>
                                                                                    <GradientStop Color="#1e2226" Offset="0.6"/>
                                                                                    <GradientStop Color="#1e2226" Offset="1"/>
                                                                                </LinearGradientBrush>
                                                                            </Rectangle.Fill>
                                                                        </Rectangle>
                                                                    </Border>
                                                                    <Rectangle Fill="#1e2226" Height="1" Grid.RowSpan="2" StrokeThickness="1" VerticalAlignment="Bottom" Width="Auto"/>
                                                                </Grid>
                                                            </ControlTemplate>
                                                            <ControlTemplate x:Key="TopRightHeaderTemplate" TargetType="sdk:DataGridColumnHeader">
                                                                <Grid x:Name="RootElement">
                                                                    <Grid.RowDefinitions>
                                                                        <RowDefinition/>
                                                                        <RowDefinition/>
                                                                        <RowDefinition Height="Auto"/>
                                                                    </Grid.RowDefinitions>
                                                                    <Border BorderBrush="#484f58" BorderThickness="1,0,0,0" Background="#FF1F3B53" Grid.RowSpan="2">
                                                                        <!--垂直滚动条上的小块-->
                                                                        <Rectangle Stretch="Fill">
                                                                            <Rectangle.Fill>
                                                                                <LinearGradientBrush StartPoint="0,0.5" EndPoint="0,1.0">
                                                                                    <GradientStop Color="#4e5661" Offset="0.5"/>
                                                                                    <GradientStop Color="#414955" Offset="1.0"/>
                                                                                </LinearGradientBrush>
                                                                            </Rectangle.Fill>
                                                                        </Rectangle>
                                                                    </Border>
                                                                </Grid>
                                                            </ControlTemplate>
                                                        </Grid.Resources>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto"/>
                                                            <ColumnDefinition/>
                                                            <ColumnDefinition Width="Auto"/>
                                                        </Grid.ColumnDefinitions>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="Auto"/>
                                                            <RowDefinition/>
                                                            <RowDefinition Height="Auto"/>
                                                            <RowDefinition Height="Auto"/>
                                                        </Grid.RowDefinitions>
                                                        <sdk:DataGridColumnHeader x:Name="TopLeftCornerHeader" Template="{StaticResource TopLeftHeaderTemplate}" Width="22"/>
                                                        <sdk:DataGridColumnHeadersPresenter x:Name="ColumnHeadersPresenter" Grid.Column="1"/>
                                                        <sdk:DataGridColumnHeader x:Name="TopRightCornerHeader" Grid.Column="2" Template="{StaticResource TopRightHeaderTemplate}"/>
                                                        <Rectangle x:Name="ColumnHeadersAndRowsSeparator" Grid.ColumnSpan="3" Fill="#1c1f23" Height="1" StrokeThickness="1" VerticalAlignment="Bottom" Width="Auto"/>
                                                        <sdk:DataGridRowsPresenter x:Name="RowsPresenter" Grid.ColumnSpan="2" Grid.Row="1"/>
                                                        <Rectangle x:Name="BottomRightCorner" Grid.Column="2" Fill="#FFE9EEF4" Grid.Row="2"/>
                                                        <Rectangle x:Name="BottomLeftCorner" Grid.ColumnSpan="2" Fill="#FFE9EEF4" Grid.Row="2"/>
                                                        <ScrollBar x:Name="VerticalScrollbar" Grid.Column="2" Margin="0,-1,-1,-1" Orientation="Vertical" Grid.Row="1" Width="18" 
                                           Style="{StaticResource SelfScrollBarStyle2}"/>
                                                        <Grid Grid.Column="1" Grid.Row="2">
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="Auto"/>
                                                                <ColumnDefinition/>
                                                            </Grid.ColumnDefinitions>
                                                            <Rectangle x:Name="FrozenColumnScrollBarSpacer"/>
                                                            <ScrollBar x:Name="HorizontalScrollbar" Grid.Column="1" Height="18" Margin="-1,0,-1,-1" Orientation="Horizontal"/>
                                                        </Grid>
                                                        <sdk:ValidationSummary x:Name="ValidationSummary" Grid.ColumnSpan="3" MaxHeight="90" Grid.Row="3"/>
                                                    </Grid>
                                                </Border>
                                                <Border x:Name="DisabledVisualElement" Background="#8C1c1f23" CornerRadius="2" HorizontalAlignment="Stretch" Height="Auto" IsHitTestVisible="False" Opacity="0" VerticalAlignment="Stretch" Width="Auto"/>
                                            </Grid>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>


                        </Grid.Resources>


                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <Grid Style="{StaticResource SystemInfoShowGridStyle}" Grid.Row="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="5"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="10"/>
                            </Grid.ColumnDefinitions>

                            <Image Grid.Column="1" Style="{StaticResource ThreeTitleImageStyle}"/>
                            <TextBlock HorizontalAlignment="Left" TextWrapping="Wrap" 
                                                Text="{Binding [MAINPAGE_AlertInfo],Source={StaticResource SR}}"
                                                VerticalAlignment="Center" Grid.Column="2" Margin="0,0,0,0" 
                                                FontSize="12"
                                                FontWeight="Bold" Style="{StaticResource TextBlockLightStyle}"/>

                        </Grid>

                        <Grid Style="{StaticResource SystemInfoShowGridStyle}" Grid.Row="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="10"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="15"></RowDefinition>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="1.2*" ></ColumnDefinition>
                                <ColumnDefinition Width="2*"></ColumnDefinition>
                            </Grid.ColumnDefinitions>
                         
                            <TextBlock Text="{Binding [ALERT_VehicleId],Source={StaticResource SR}}" 
                                       VerticalAlignment="Center" HorizontalAlignment="Right" 
                                       Grid.Row="1" Grid.Column="0"  Margin="0,0,10,3" Style="{StaticResource TextBlockLightStyle}"/>
                            <TextBlock Text="{Binding AlertVehicleId}" 
                                       VerticalAlignment="Center" HorizontalAlignment="Left" 
                                       Grid.Row="1" Grid.Column="1"
                                       Margin="10,0,0,3"
                                       ToolTipService.ToolTip="{Binding AlertVehicleId}" Style="{StaticResource TextBlockLightStyle}"/>

                            <TextBlock Text="{Binding [Organization],Source={StaticResource SR}}" 
                                       VerticalAlignment="Center" 
                                               HorizontalAlignment="Right"
                                               Grid.Row="2"
                                               Grid.Column="0"
                                               Margin="0,3,10,3" Style="{StaticResource TextBlockLightStyle}"/>

                            <TextBlock Text="{Binding OrganizationName}" 
                                               VerticalAlignment="Center"
                                               Margin="10,3,0,3"
                                               HorizontalAlignment="Left" 
                                               Grid.Row="2"
                                               Grid.Column="1"
                                       ToolTipService.ToolTip="{Binding OrganizationName}" Style="{StaticResource TextBlockLightStyle}"/>

                            <TextBlock Text="{Binding [ALERT_ALERTTime],Source={StaticResource SR}}" 
                                       VerticalAlignment="Center" Grid.Row="3"
                                       Grid.Column="0" 
                                       HorizontalAlignment="Right" Margin="0,3,10,3" Style="{StaticResource TextBlockLightStyle}"/>

                            <TextBlock Text="{Binding AlertTime,Mode=OneWay}" 
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Left"
                                       Grid.Row="3" Grid.Column="1"
                                       Margin="10,3,0,3"
                                       ToolTipService.ToolTip="{Binding AlertTime}" Style="{StaticResource TextBlockLightStyle}"/>

                            <TextBlock Text="{Binding [SpaticalQuery_Dist],Source={StaticResource SR}}"
                                       VerticalAlignment="Center" 
                                            HorizontalAlignment="Right"
                                            Grid.Row="4"
                                            Grid.Column="0"
                                            Margin="0,3,10,3" Style="{StaticResource TextBlockLightStyle}"/>

                            <TextBlock Text="{Binding DistrictCodeDescribe}" 
                                               VerticalAlignment="Center"
                                               Margin="10,3,0,3"
                                               HorizontalAlignment="Left" 
                                               Grid.Row="4"
                                               Grid.Column="1"
                                       ToolTipService.ToolTip="{Binding DistrictCodeDescribe}" Style="{StaticResource TextBlockLightStyle}"/>

                            <TextBlock Text="{Binding [Where],Source={StaticResource SR}}"
                                       VerticalAlignment="Center" 
                                               HorizontalAlignment="Right"
                                               Grid.Row="5"
                                               Grid.Column="0"
                                               Margin="0,3,10,3" Style="{StaticResource TextBlockLightStyle}"/>

                            <TextBlock Text="{Binding Locate}" 
                                               VerticalAlignment="Center"
                                               Margin="10,3,0,3"
                                               HorizontalAlignment="Left" 
                                               Grid.Row="5"
                                               Grid.Column="1" Style="{StaticResource TextBlockLightStyle}"/>
                            <TextBlock Text="{Binding [ALERT_Speed],Source={StaticResource SR}}" 
                                       VerticalAlignment="Center" Grid.Row="6" 
                                       Grid.Column="0" Margin="0,3,10,3" HorizontalAlignment="Right"  Style="{StaticResource TextBlockLightStyle}"/>

                            <TextBlock Text="{Binding AlertSpeed,Converter={StaticResource SpeedAndDir},Mode=OneWay}" 
                                       VerticalAlignment="Center" Grid.Row="6" 
                                       Grid.Column="1"
                                       HorizontalAlignment="Left"
                                       Margin="10,3,0,3" Style="{StaticResource TextBlockLightStyle}"/>

                            <TextBlock Text="{Binding [ALERT_Dir],Source={StaticResource SR}}" 
                                       VerticalAlignment="Center"  Grid.Row="7" Grid.Column="0" HorizontalAlignment="Right" Margin="0,3,10,3" Style="{StaticResource TextBlockLightStyle}"/>

                            <TextBlock Text="{Binding AlertDirection,Converter={StaticResource SpeedAndDir}}"
                                       VerticalAlignment="Center" Grid.Row="7" Grid.Column="1"
                                       HorizontalAlignment="Left" 
                                       Margin="10,3,0,3" Style="{StaticResource TextBlockLightStyle}"/>

                            <TextBlock Text="{Binding [ALERT_AlertType],Source={StaticResource SR}}" 
                                       VerticalAlignment="Center"  Grid.Row="8" 
                                       Grid.Column="0" HorizontalAlignment="Right" 
                                       Margin="0,3,10,3" Style="{StaticResource TextBlockLightStyle}"
                                       />

                            <TextBlock Text="{Binding AlertType,Mode=OneWay,Converter={StaticResource BusinessAlertTypeConverter}}" 
                                        VerticalAlignment="Center"
                                        HorizontalAlignment="Left" Grid.Row="8" Grid.Column="1" 
                                       Margin="10,3,0,3"
                                       ToolTipService.ToolTip="{Binding AlertType,Mode=OneWay,Converter={StaticResource BusinessAlertTypeConverter}}" Style="{StaticResource TextBlockLightStyle}"/>

                            <TextBlock Text="{Binding [SafeSuitDeviceNumber], Source={StaticResource SR}}" 
                                       VerticalAlignment="Center"  Grid.Row="9" 
                                       Grid.Column="0" HorizontalAlignment="Right" 
                                       Margin="0,3,10,3" Style="{StaticResource TextBlockLightStyle}"/>

                            <TextBlock Text="{Binding AlertSuiteID}"
                                       VerticalAlignment="Center" HorizontalAlignment="Left" 
                                       Grid.Row="9" Grid.Column="1" 
                                       Margin="10,3,0,3"
                                       ToolTipService.ToolTip="{Binding AlertSuiteID}" Style="{StaticResource TextBlockLightStyle}"/>

                            <!--<TextBlock Text="{Binding [Note],Source={StaticResource SR}}" 
                                       VerticalAlignment="Center"  
                                       Grid.Row="10" 
                                       Grid.Column="0" 
                                       HorizontalAlignment="Right" 
                                       Margin="0,3,10,3"
                                       Visibility="{Binding IsAlertNoteVisibility}"/>

                            <TextBlock  Text="{Binding AlertContent}"  
                                        Grid.Row="10" 
                                        Grid.Column="1" 
                                        Grid.RowSpan="2" 
                                        TextWrapping="Wrap" VerticalAlignment="Center"
                                        HorizontalAlignment="Left"
                                        Visibility="{Binding IsAlertNoteVisibility}"
                                        ToolTipService.ToolTip="{Binding AlertContent}"/>-->

                            
                        </Grid>

                        <Grid Style="{StaticResource SystemInfoShowGridStyle}" Grid.Row="2">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="5"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="25"/>
                                <ColumnDefinition Width="10"/>
                            </Grid.ColumnDefinitions>

                            <Image Grid.Column="1" Style="{StaticResource ThreeTitleImageStyle}"/>
                            <TextBlock HorizontalAlignment="Left" TextWrapping="Wrap" 
                                                Text="{Binding [DriverInfo],Source={StaticResource SR}}"
                                                VerticalAlignment="Center" Grid.Column="2" Margin="0,0,0,0" 
                                                FontSize="12"
                                                FontWeight="Bold"
                                                 Style="{StaticResource TextBlockLightStyle}"/>

                        </Grid>

                        <sdk:DataGrid Grid.Row="3"  Style="{StaticResource DataGridStyleRxx2}"
                                      ItemsSource="{Binding ChauffeurList}"
                                      GridLinesVisibility="None"
                                      CanUserResizeColumns="False"
                                      Margin="0,7,0,10">

                            <sdk:DataGrid.Columns>


                                <sdk:DataGridTemplateColumn  Width="1.2*" HeaderStyle="{StaticResource NoHeaderColumnHeaderStyle}">
                                    <sdk:DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock  Text="{Binding Name}" 
                                                        Margin="0,3,10,3" 
                                                        VerticalAlignment="Center"   
                                                        HorizontalAlignment="Right"  Foreground="#737476"
                                                        TextAlignment="Right"  Height="Auto"
                                                        ToolTipService.ToolTip="{Binding Name}"/>
                                        </DataTemplate>
                                    </sdk:DataGridTemplateColumn.CellTemplate>
                                </sdk:DataGridTemplateColumn>

                                <sdk:DataGridTemplateColumn  Width="2*" HeaderStyle="{StaticResource NoHeaderColumnHeaderStyle}">
                                    <sdk:DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock  Text="{Binding Phone}" 
                                                        Margin="10,3,0,3" 
                                                        VerticalAlignment="Center"   
                                                        HorizontalAlignment="Left"  
                                                        TextAlignment="Left"  Height="Auto" Foreground="#737476"
                                                        ToolTipService.ToolTip="{Binding Phone}"/>
                                        </DataTemplate>
                                    </sdk:DataGridTemplateColumn.CellTemplate>
                                </sdk:DataGridTemplateColumn>

                            </sdk:DataGrid.Columns>
                        </sdk:DataGrid>

                        <!--告警信息-->
                        <Grid Grid.Row="4" Visibility="{Binding IsAlertNoteVisibility}">

                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <Grid Grid.Row="0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="5"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="10"/>
                                </Grid.ColumnDefinitions>


                                <Image Grid.Column="1" Style="{StaticResource ThreeTitleImageStyle}"/>
                                <TextBlock HorizontalAlignment="Left" TextWrapping="Wrap" 
                                       Text="{Binding [DisposeInfo],Source={StaticResource SR}}" 
                                       VerticalAlignment="Center" Grid.Column="2" Margin="0,0,0,0" 
                                       FontSize="12"
                                       FontWeight="Bold"
                                        Style="{StaticResource TextBlockLightStyle}"/>


                            </Grid>


                            <Grid Grid.Row="1">

                                <Grid.RowDefinitions>
                                    <RowDefinition Height="10"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="15"></RowDefinition>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="1.4*" ></ColumnDefinition>
                                    <ColumnDefinition Width="2*"></ColumnDefinition>
                                </Grid.ColumnDefinitions>


                                <TextBlock Text="{Binding [ALARM_HandlePerson],Source={StaticResource SR}}"
                                               VerticalAlignment="Center"
                                               Grid.Column="0"
                                               Grid.Row="1"
                                               HorizontalAlignment="Right"
                                               Margin="0,0,10,3"
                                                Style="{StaticResource TextBlockLightStyle}"
                                               />

                                <TextBlock Text="{Binding AlertDisposeStaff}"
                                               VerticalAlignment="Center" 
                                               HorizontalAlignment="Left" 
                                               Grid.Column="1"
                                               Grid.Row="1"
                                               TextWrapping="Wrap"
                                               Margin="10,0,0,3"
                                                Style="{StaticResource TextBlockLightStyle}"
                                               ToolTipService.ToolTip="{Binding AlertDisposeStaff}"/>

                                <TextBlock Text="{Binding [ALARM_TrealTime],Source={StaticResource SR}}"
                                               VerticalAlignment="Center"
                                               Grid.Column="0"
                                               Grid.Row="2"
                                               HorizontalAlignment="Right"
                                               Margin="0,0,10,3"
                                            Style="{StaticResource TextBlockLightStyle}"
                                               />

                                <TextBlock Text="{Binding AlertDisposeTime}"
                                               VerticalAlignment="Center" 
                                               HorizontalAlignment="Left" 
                                               Grid.Column="1"
                                               Grid.Row="2"
                                               TextWrapping="Wrap"
                                               Margin="10,0,0,3"  Style="{StaticResource TextBlockLightStyle}"
                                               ToolTipService.ToolTip="{Binding AlertDisposeTime}"/>


                                <TextBlock Text="{Binding [Note],Source={StaticResource SR}}"
                                               VerticalAlignment="Center"
                                               Grid.Column="0"
                                               Grid.Row="3"
                                               HorizontalAlignment="Right"
                                               Margin="0,0,10,3"  Style="{StaticResource TextBlockLightStyle}"
                                               Visibility="{Binding IsNoteVisibility}"/>

                                <TextBlock Text="{Binding AlertContent}"
                                               VerticalAlignment="Center" 
                                               HorizontalAlignment="Left" 
                                               Grid.Column="1"
                                               Grid.Row="3"
                                               TextWrapping="Wrap"
                                               Margin="10,0,0,3"  Style="{StaticResource TextBlockLightStyle}"
                                               Visibility="{Binding IsAlertNoteVisibility}"
                                           ToolTipService.ToolTip="{Binding AlertContent}"/>

                            </Grid>




                        </Grid>


                    </Grid>
                </ScrollViewer>

                <Image x:Name="ListhiddenL" 
                           Source="/ExternalResource;component/Images/RightHide.png"
                           Cursor="Hand" 
                           Margin="0,3,10,3"
                           HorizontalAlignment="Right" 
                           VerticalAlignment="Center" 
                           Canvas.ZIndex="100" 
                           Stretch="None" 
                           MouseLeftButtonDown="ListhiddenL_OnMouseLeftButtonDown"
                           ToolTipService.ToolTip="{Binding [MenuCollapsedToolTip], Source={StaticResource SR}}"/>
            </Grid>
        </Grid>
    </Grid>
</UserControl>
